
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="MoAI Agentic Development Kit Documentation">
      
      
      
        <link rel="canonical" href="https://docs.moai-adk.dev/MOAI-ADK-GUIDE/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>MoAI-ADK 종합 개발 가이드 - MoAI-ADK Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#moai-adk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MoAI-ADK Documentation" class="md-header__button md-logo" aria-label="MoAI-ADK Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MoAI-ADK Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MoAI-ADK 종합 개발 가이드
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/modu-ai/moai-adk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../getting-started/installation/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../guide/workflow/" class="md-tabs__link">
          
  
  
  Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../development/contributing.md" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../examples/basic.md" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api/" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MoAI-ADK Documentation" class="md-nav__button md-logo" aria-label="MoAI-ADK Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MoAI-ADK Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/modu-ai/moai-adk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guide/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/contributing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/basic.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Usage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      📋 목차
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Executive Summary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🚀 Executive Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#16-core-tag-living-document" class="md-nav__link">
    <span class="md-ellipsis">
      16-Core TAG 추적성과 Living Document 동기화
    </span>
  </a>
  
    <nav class="md-nav" aria-label="16-Core TAG 추적성과 Living Document 동기화">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#019-spec-009" class="md-nav__link">
    <span class="md-ellipsis">
      🔥 0.1.9 혁신적 성과 (SPEC-009 포함)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#019" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 0.1.9의 혁신 포인트
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-moai0-project-moai3-sync" class="md-nav__link">
    <span class="md-ellipsis">
      🧭 신규 4단계 워크플로우: /moai:0-project → /moai:3-sync
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      💡 목표 사용자
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      🏗️ Architecture Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🏗️ Architecture Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      개인/팀 모드 통합 시스템
    </span>
  </a>
  
    <nav class="md-nav" aria-label="개인/팀 모드 통합 시스템">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      모드 자동 감지 및 전환
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git" class="md-nav__link">
    <span class="md-ellipsis">
      Git 관리 시스템 아키텍처
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git 관리 시스템 아키텍처">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#personal-mode" class="md-nav__link">
    <span class="md-ellipsis">
      개인 모드 (Personal Mode) 워크플로우
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#team-mode" class="md-nav__link">
    <span class="md-ellipsis">
      팀 모드 (Team Mode) 워크플로우
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-manager-git-manager" class="md-nav__link">
    <span class="md-ellipsis">
      project-manager + 핵심 에이전트 + git-manager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="project-manager + 핵심 에이전트 + git-manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-manager" class="md-nav__link">
    <span class="md-ellipsis">
      project-manager (프로젝트 킥오프 전문가)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cc-manager" class="md-nav__link">
    <span class="md-ellipsis">
      cc-manager (환경/권한 최적화)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-spec-builder-ears" class="md-nav__link">
    <span class="md-ellipsis">
      1. spec-builder (EARS 명세 + 모드별 브랜치 전략)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-code-builder-tdd" class="md-nav__link">
    <span class="md-ellipsis">
      2. code-builder (TDD + 모드별 커밋 전략)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-doc-syncer-pr" class="md-nav__link">
    <span class="md-ellipsis">
      3. doc-syncer (문서 + 모드별 PR 관리)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-git-manager-git" class="md-nav__link">
    <span class="md-ellipsis">
      4. git-manager (Git 작업 전담)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-debug-helper" class="md-nav__link">
    <span class="md-ellipsis">
      5. debug-helper (통합 디버깅 시스템)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git_1" class="md-nav__link">
    <span class="md-ellipsis">
      Git 관리 시스템
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git 관리 시스템">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git_2" class="md-nav__link">
    <span class="md-ellipsis">
      완전 자동화된 Git 워크플로우
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git_3" class="md-nav__link">
    <span class="md-ellipsis">
      Git 작업 원칙
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-manager" class="md-nav__link">
    <span class="md-ellipsis">
      git-manager 에이전트 특징
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      동기화 시스템
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-guide" class="md-nav__link">
    <span class="md-ellipsis">
      📦 Installation Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📦 Installation Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      개인/팀 모드 선택적 설치
    </span>
  </a>
  
    <nav class="md-nav" aria-label="개인/팀 모드 선택적 설치">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 시스템 요구사항
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-moai-adk" class="md-nav__link">
    <span class="md-ellipsis">
      2. MoAI-ADK 설치
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 모드별 초기화 과정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 모드 전환
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-guide" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Usage Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🎯 Usage Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0-moai0-project" class="md-nav__link">
    <span class="md-ellipsis">
      0단계: /moai:0-project 프로젝트 문서 초기화
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-moai1-spec-auto" class="md-nav__link">
    <span class="md-ellipsis">
      1단계: /moai:1-spec auto 제안 흐름
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personal-mode_1" class="md-nav__link">
    <span class="md-ellipsis">
      개인 모드 (Personal Mode) 사용법
    </span>
  </a>
  
    <nav class="md-nav" aria-label="개인 모드 (Personal Mode) 사용법">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      안전한 실험적 개발 흐름
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      수동 개입이 필요할 때
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#team-mode_1" class="md-nav__link">
    <span class="md-ellipsis">
      팀 모드 (Team Mode) 사용법
    </span>
  </a>
  
    <nav class="md-nav" aria-label="팀 모드 (Team Mode) 사용법">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gitflow" class="md-nav__link">
    <span class="md-ellipsis">
      완전한 GitFlow 자동화
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      병렬 작업 시 팁
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-app-actions" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub App &amp; Actions 설정 가이드
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git_4" class="md-nav__link">
    <span class="md-ellipsis">
      Git 관리 가이드
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-guide" class="md-nav__link">
    <span class="md-ellipsis">
      🔄 Migration Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔄 Migration Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#019_1" class="md-nav__link">
    <span class="md-ellipsis">
      이전 버전에서 0.1.9로 업그레이드
    </span>
  </a>
  
    <nav class="md-nav" aria-label="이전 버전에서 0.1.9로 업그레이드">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v018-v019" class="md-nav__link">
    <span class="md-ellipsis">
      v0.1.8에서 v0.1.9로 업그레이드
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      주요 변경사항 자동 적용
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spec-009-tag" class="md-nav__link">
    <span class="md-ellipsis">
      🗄️ SPEC-009 TAG 시스템 자동 업그레이드
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developer-guide" class="md-nav__link">
    <span class="md-ellipsis">
      🛠️ Developer Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🛠️ Developer Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      개인/팀 모드 시스템 구현
    </span>
  </a>
  
    <nav class="md-nav" aria-label="개인/팀 모드 시스템 구현">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      모드 감지 및 전환 메커니즘
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      자동 체크포인트 시스템 구현
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-manager-git" class="md-nav__link">
    <span class="md-ellipsis">
      git-manager 기반 Git 자동화
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      📚 API Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📚 API Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#moai" class="md-nav__link">
    <span class="md-ellipsis">
      MoAI 핵심 명령어
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MoAI 핵심 명령어">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#moaidebug" class="md-nav__link">
    <span class="md-ellipsis">
      /moai:debug (통합 디버깅 시스템)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moai1-spec" class="md-nav__link">
    <span class="md-ellipsis">
      /moai:1-spec (명세 작성)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moai2-build-tdd" class="md-nav__link">
    <span class="md-ellipsis">
      /moai:2-build (TDD 구현)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moai3-sync" class="md-nav__link">
    <span class="md-ellipsis">
      /moai:3-sync (문서 동기화)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-manager_1" class="md-nav__link">
    <span class="md-ellipsis">
      git-manager 에이전트 활용
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag-api-spec-009" class="md-nav__link">
    <span class="md-ellipsis">
      🏷️ TAG 시스템 API (SPEC-009)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🏷️ TAG 시스템 API (SPEC-009)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tagindexadapter-tag" class="md-nav__link">
    <span class="md-ellipsis">
      TagIndexAdapter - 고성능 TAG 관리
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tagdatabasemanager-sqlite" class="md-nav__link">
    <span class="md-ellipsis">
      TagDatabaseManager - 직접 SQLite 접근
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tagmigrationtool-" class="md-nav__link">
    <span class="md-ellipsis">
      TagMigrationTool - 데이터 마이그레이션
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tagperformancebenchmark-" class="md-nav__link">
    <span class="md-ellipsis">
      TagPerformanceBenchmark - 성능 측정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      성능 특성
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      API 호환성
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trust" class="md-nav__link">
    <span class="md-ellipsis">
      TRUST 원칙 준수
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="moai-adk">MoAI-ADK 종합 개발 가이드</h1>
<blockquote>
<p><strong>🗿 "명세가 없으면 코드도 없다. 테스트가 없으면 구현도 없다."</strong></p>
<p><strong>MoAI-ADK v0.1.9: SQLite TAG 시스템과 고급 검색 API 완성 - 14.8배 성능 혁신</strong></p>
</blockquote>
<hr />
<h2 id="_1">📋 목차</h2>
<ol>
<li><a href="#-executive-summary">🚀 Executive Summary</a></li>
<li><a href="#️-architecture-overview">🏗️ Architecture Overview</a></li>
<li><a href="#-installation-guide">📦 Installation Guide</a></li>
<li><a href="#-usage-guide">🎯 Usage Guide</a></li>
<li><a href="#-migration-guide">🔄 Migration Guide</a></li>
<li><a href="#️-developer-guide">🛠️ Developer Guide</a></li>
<li><a href="#-api-reference">📚 API Reference</a></li>
<li><a href="#-output-styles">🎨 Output Styles</a></li>
<li><a href="#-performance-improvements">⚡ Performance Improvements</a></li>
<li><a href="#-file-structure--configuration">🔧 File Structure &amp; Configuration</a></li>
<li><a href="#️-troubleshooting-guide">🛠️ Troubleshooting Guide</a></li>
<li><a href="#-system-verification">📋 System Verification</a></li>
</ol>
<hr />
<h2 id="executive-summary">🚀 Executive Summary</h2>
<h3 id="16-core-tag-living-document">16-Core TAG 추적성과 Living Document 동기화</h3>
<p>MoAI-ADK v0.1.9는 <strong>SPEC-009 SQLite TAG 시스템 혁신</strong>을 완성하여, <strong>83배 성능 향상</strong>과 함께 완전한 개발 추적성과 Living Document 경험을 제공합니다.</p>
<h4 id="019-spec-009">🔥 0.1.9 혁신적 성과 (SPEC-009 포함)</h4>
<table>
<thead>
<tr>
<th>구분</th>
<th>v0.1.8 (Before)</th>
<th>v0.1.9 (After)</th>
<th>개선 내용</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>TAG 시스템 성능</strong></td>
<td>JSON 150ms</td>
<td><strong>SQLite 0.18ms</strong></td>
<td><strong>83배 성능 향상</strong> 🚀</td>
</tr>
<tr>
<td><strong>추적성 체인</strong></td>
<td>구현 없음</td>
<td><strong>0.04ms 체인 구축</strong></td>
<td><strong>초고속 traceability</strong></td>
</tr>
<tr>
<td><strong>고급 검색 API</strong></td>
<td>기본 기능만</td>
<td><strong>search_by_category()</strong></td>
<td>카테고리별 고속 검색</td>
</tr>
<tr>
<td><strong>메모리 효율성</strong></td>
<td>45MB JSON</td>
<td><strong>12MB SQLite</strong></td>
<td><strong>73% 메모리 절약</strong></td>
</tr>
<tr>
<td><strong>ACID 트랜잭션</strong></td>
<td>불가능</td>
<td><strong>완전 지원</strong></td>
<td>동시 접근 안전성 보장</td>
</tr>
<tr>
<td><strong>구조화 로깅</strong></td>
<td>기본 로그</td>
<td><strong>감사용 JSON 로깅</strong></td>
<td>TRUST 원칙 기반 추적</td>
</tr>
<tr>
<td><strong>패키지 설치</strong></td>
<td>개발 데이터 오염</td>
<td><strong>깨끗한 초기 상태</strong></td>
<td>99.8% 크기 감소 (tags.json)</td>
</tr>
<tr>
<td><strong>문서 동기화</strong></td>
<td>수동 관리</td>
<td><strong>Living Document 자동화</strong></td>
<td>doc-syncer 에이전트 기반</td>
</tr>
</tbody>
</table>
<h4 id="019">🎯 0.1.9의 혁신 포인트</h4>
<ol>
<li><strong>🚀 SPEC-009 SQLite TAG 시스템 혁신</strong>:</li>
<li><strong>10배 성능 목표 대폭 초과</strong>: 실제 83배 성능 향상 달성 (0.18ms 검색)</li>
<li><strong>고급 검색 API</strong>: <code>search_by_category()</code>, <code>get_traceability_chain()</code> 구현</li>
<li><strong>TRUST 5원칙 완전 적용</strong>: Test-Readable-Unified-Secured-Trackable</li>
<li><strong>메모리 효율성</strong>: 45MB → 12MB (73% 절약)</li>
<li>
<p><strong>구조화 감사 로깅</strong>: 보안 감사용 JSON 형식 로깅</p>
</li>
<li>
<p><strong>🧹 깨끗한 패키지 설치 시스템</strong>:</p>
</li>
<li><strong>자동 품질 검증</strong>: <code>_validate_clean_installation()</code> 메서드로 설치 품질 실시간 모니터링</li>
<li>
<p><strong>초기 상태 보장</strong>: specs/reports 디렉토리 완전 정리, 개발 흔적 제거</p>
</li>
<li>
<p><strong>📦 최적화된 ResourceManager</strong>:</p>
</li>
<li><strong>태그 인덱스 최적화</strong>: 4,747줄 → 11줄 (99.8% 감소)</li>
<li><strong>설치 검증 자동화</strong>: 깨끗한 상태 유지를 위한 자동 체크 시스템</li>
<li><strong>🧪 개인 모드 (Personal Mode)</strong>:</li>
<li><strong>안전한 실험</strong>: 로컬 Git 저장소로 실패해도 걱정 없는 안전망 제공</li>
<li>
<p><strong>빠른 프로토타입</strong>: GitHub 없이도 완전한 TDD 워크플로우 지원</p>
</li>
<li>
<p><strong>🏢 팀 모드 (Team Mode)</strong>:</p>
</li>
<li><strong>GitHub Issue 중심 백로그</strong>: <code>/moai:1-spec</code> → <code>[SPEC-XXX]</code> Issue 생성 후 담당자·라벨 자동 권장</li>
<li><strong>7단계 자동 커밋</strong>: 의미 있는 히스토리를 남기는 RED→GREEN→REFACTOR</li>
<li><strong>PR 라이프사이클 자동화(옵션)</strong>: GitHub App 설정 후 Draft → Ready 전환, 리뷰어 추천을 자동화</li>
<li>
<p><strong>팀 협업 신호</strong>: Slack/이메일 알림·Project 보드 업데이트 트리거 제공</p>
</li>
<li>
<p><strong>🔧 완전 자동화된 Git 관리</strong>:</p>
</li>
</ol>
<p><strong>워크플로우 통합 Git 처리</strong> (99% 케이스):</p>
<div class="highlight"><pre><span></span><code>/moai:1-spec<span class="w">      </span><span class="c1"># spec-builder + git-manager (브랜치 생성, 커밋)</span>
/moai:2-build<span class="w">     </span><span class="c1"># code-builder + git-manager (TDD 커밋)</span>
/moai:3-sync<span class="w">      </span><span class="c1"># doc-syncer + git-manager (문서 동기화, PR 관리)</span>
</code></pre></div>
<p><strong>직접 Git 작업</strong> (1% 특수 케이스):</p>
<div class="highlight"><pre><span></span><code>@agent-git-manager<span class="w"> </span><span class="s2">&quot;체크포인트 생성&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;브랜치 생성: feature/new-feature&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;개인 모드 롤백&quot;</span>
</code></pre></div>
<blockquote>
<p>⚠️ <strong>0.1.9 Git 관리 시스템 안내</strong></p>
<ul>
<li><strong>완전 자동화</strong>: 모든 워크플로우에서 Git 작업이 자동으로 처리됩니다</li>
<li><strong>브랜치 전략</strong>: git-manager가 모드별로 최적화된 브랜치를 자동 생성</li>
<li><strong>체크포인트</strong>: 각 작업 단계마다 자동으로 안전한 복구 지점 생성</li>
<li><strong>커밋 메시지</strong>: TRUST 원칙 기반으로 구조화된 커밋 메시지 자동 생성</li>
<li><strong>PR 관리</strong>: 팀 모드에서 GitHub Issue → Draft PR → Ready 전환까지 자동화</li>
<li><strong>직접 호출</strong>: 특수한 경우에만 <code>@agent-git-manager</code> 직접 호출 사용</li>
</ul>
</blockquote>
<ol>
<li><strong>🎛️ 자동 모드 감지</strong>:</li>
<li><strong>설치 시 선택</strong>: <code>moai init --personal</code> (기본값) / <code>moai init --team</code></li>
<li><strong>동적 전환</strong>: 언제든지 모드 변경 가능</li>
<li><strong>상황별 최적화</strong>: 개인 실험 vs 팀 협업에 맞춤</li>
</ol>
<h4 id="4-moai0-project-moai3-sync">🧭 신규 4단계 워크플로우: <code>/moai:0-project</code> → <code>/moai:3-sync</code></h4>
<ol>
<li><strong>/moai:0-project – 프로젝트 킥오프</strong></li>
<li><code>moai init</code> 시 복사되는 빈 프로젝트 문서(<code>.moai/project/{product,structure,tech}.md</code>)를 대화형 질문으로 갱신합니다.</li>
<li>CLAUDE.md는 <code>@.moai/project/product.md</code> 와 같이 <code>@</code> 임포트를 사용해 프로젝트 문서를 로드합니다. 내용을 업데이트한 뒤 <code>/clear</code> 또는 재시작을 통해 Claude 메모리에 반영하세요.</li>
<li>기존 코드베이스인 경우에는 파일 구조·언어·테스트 커버리지 등을 분석해 초안을 채웁니다.</li>
<li>자동 초안이 필요하면 <code>python3 .moai/scripts/project_initializer.py --analyze</code> 명령을 실행해 요약본을 생성하고, Claude 상에서 세부사항을 보완하세요.</li>
<li>
<p>업데이트가 끝나면 <strong>Claude Code를 재시작</strong>해 CLAUDE 메모리에 새 프로젝트 문서를 로드합니다.</p>
</li>
<li>
<p><strong>/moai:1-spec – auto 제안 &amp; 일괄 생성</strong></p>
</li>
<li>프로젝트 문서를 읽고 도메인/기능에 맞는 SPEC 후보를 자동 제안합니다.</li>
<li><strong>Personal 모드</strong>: 확인 후 <code>.moai/specs/</code>에 명세 파일을 일괄 생성합니다.</li>
<li>
<p><strong>Team 모드</strong>: 확인 후 GitHub Issue/Discussion 등을 생성하고, feature 브랜치 템플릿과 연동합니다(중복 SPEC 방지).</p>
</li>
<li>
<p><strong>/moai:2-build – TDD (개인: 자동 체크포인트, 팀: 구조화 커밋)</strong></p>
</li>
<li>
<p><strong>/moai:3-sync – 문서/PR 동기화 &amp; 상태 보고</strong></p>
</li>
</ol>
<blockquote>
<p>❗️ <code>--project</code> 옵션으로 다중 SPEC을 생성하던 기존 방식은 <code>/moai:0-project</code> + <code>/moai:1-spec</code> auto 플로우로 대체되었습니다.</p>
</blockquote>
<h4 id="_2">💡 목표 사용자</h4>
<ul>
<li><strong>🧪 개인 개발자</strong>: 실험과 롤백이 자유로운 안전한 개발 환경</li>
<li><strong>🏢 팀 개발자</strong>: 완전 자동화된 GitFlow와 협업 시스템</li>
<li><strong>📚 학습자</strong>: Git 학습 부담 없이 즉시 프로페셔널 워크플로우</li>
<li><strong>🚀 스타트업</strong>: 빠른 개발과 높은 품질을 동시 달성</li>
</ul>
<hr />
<h2 id="architecture-overview">🏗️ Architecture Overview</h2>
<h3 id="_3">개인/팀 모드 통합 시스템</h3>
<h4 id="_4">모드 자동 감지 및 전환</h4>
<div class="highlight"><pre><span></span><code>graph TD
    A[moai init] --&gt; B{모드 선택}
    B --&gt;|--personal| C[🧪 개인 모드]
    B --&gt;|--team| D[🏢 팀 모드]
    B --&gt;|기본값| C

    C --&gt; C1[자동 체크포인트 활성화]
    C1 --&gt; C2[간소화된 브랜치 전략]
    C2 --&gt; C3[파일 감시 시스템]
    C3 --&gt; C4[체크포인트 롤백 시스템]

    D --&gt; D1[GitFlow 표준 활성화]
    D1 --&gt; D2[Draft PR 자동 생성]
    D2 --&gt; D3[7단계 커밋 시스템]
    D3 --&gt; D4[팀 협업 도구 연동]

    style C fill:#e3f2fd
    style D fill:#f3e5f5
</code></pre></div>
<h3 id="git">Git 관리 시스템 아키텍처</h3>
<h4 id="personal-mode">개인 모드 (Personal Mode) 워크플로우</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 프로젝트 시작</span>
moai<span class="w"> </span>init<span class="w"> </span>my-project<span class="w"> </span>--personal

<span class="c1"># 2. 프로젝트 킥오프 (project 문서 초안 업데이트 + 메모리 로드)</span>
/moai:0-project

<span class="c1"># 3. 완전 자동화된 개발 워크플로우 (v0.1.9+ 병렬 처리)</span>
/moai:1-spec<span class="w">                    </span><span class="c1"># spec-builder (MultiEdit 배치) + git-manager (자동 브랜치/커밋)</span>
/moai:2-build<span class="w">                   </span><span class="c1"># code-builder + git-manager (TDD + KST 체크포인트)</span>
/moai:3-sync<span class="w">                    </span><span class="c1"># doc-syncer (병렬 동기화) + git-manager (문서화 + 최종 커밋)</span>

<span class="c1"># 특수한 경우에만 직접 호출</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;체크포인트 생성&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;이전 상태로 롤백&quot;</span>
</code></pre></div>
<h4 id="team-mode">팀 모드 (Team Mode) 워크플로우</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 팀 프로젝트 시작</span>
moai<span class="w"> </span>init<span class="w"> </span>team-project<span class="w"> </span>--team

<span class="c1"># 2. 프로젝트 킥오프 (project 문서 초안 업데이트 + GitHub 이슈 워크스페이스 연결)</span>
/moai:0-project

<span class="c1"># 3. 완전한 GitFlow 자동화</span>
/moai:1-spec<span class="w">                    </span><span class="c1"># spec-builder + git-manager (GitHub Issue + 브랜치 생성)</span>
/moai:2-build<span class="w">                   </span><span class="c1"># code-builder + git-manager (TDD + 7단계 자동 커밋)</span>
/moai:3-sync<span class="w">                    </span><span class="c1"># doc-syncer + git-manager (문서화 + PR Ready + 리뷰어 할당)</span>

<span class="c1"># 필요시 git-manager 직접 호출</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;브랜치 상태 확인&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;최신 변경사항 동기화&quot;</span>
</code></pre></div>
<h3 id="project-manager-git-manager">project-manager + 핵심 에이전트 + git-manager</h3>
<h4 id="project-manager">project-manager (프로젝트 킥오프 전문가)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/project-manager.md</code></p>
<p><strong>핵심 기능:</strong></p>
<ul>
<li><code>/moai:0-project</code> 실행 시 레포지토리를 스캔해 신규/레거시 상황을 감지하고 인터뷰 트리를 선택</li>
<li>product/structure/tech 문서를 대화형으로 작성하고 CLAUDE 메모리에 반영</li>
</ul>
<p><strong>레거시 프로젝트 자동 분석 시스템:</strong></p>
<ol>
<li><strong>자동 코드베이스 분석</strong>: 프로젝트 구조 스캔, 핵심 파일 내용 분석, 기술 스택 자동 감지</li>
<li><strong>스마트 인터뷰</strong>: 자동 분석으로 파악된 정보는 제외하고 부족한 정보만 선별적 질문</li>
<li><strong>통합 문서 생성</strong>: 자동 분석(70-80%) + 사용자 응답(20-30%) = 완전한 프로젝트 문서</li>
</ol>
<p><strong>처리 시간</strong>: 기존 15-20분 → <strong>3-5분으로 단축</strong> (병렬 처리 + 질문 수 70% 감소)</p>
<ul>
<li>개인/팀 모드, 출력 스타일, 협업 도구 설정을 재확인하며 필요한 경우 <code>/moai:0-project update</code>에서 조정</li>
<li>spec-builder, doc-syncer, git-manager가 후속 단계에서 사용할 공통 컨텍스트(팀 규모, 기술 스택, 레거시 제약)를 요약</li>
</ul>
<h4 id="cc-manager">cc-manager (환경/권한 최적화)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/cc-manager.md</code></p>
<ul>
<li>Claude Code 권한/훅/MCP 구성을 점검하고 Guard 정책이 올바르게 작동하는지 확인</li>
<li>프로젝트 전반의 설정 문제(permissions.allow, hooks 실행권한 등)를 진단하고 수정 제안을 제공</li>
<li>필요 시 project-manager와 협력해 모드 전환이나 환경 재구성 경고를 전달</li>
</ul>
<h4 id="1-spec-builder-ears">1. spec-builder (EARS 명세 + 모드별 브랜치 전략)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/spec-builder.md</code></p>
<p><strong>개인 모드 지원:</strong></p>
<ul>
<li>간소화된 브랜치: <code>feature/{description}</code></li>
<li>체크포인트와 함께 명세 작성</li>
<li>빠른 실험을 위한 간소화된 구조</li>
</ul>
<p><strong>팀 모드 지원:</strong></p>
<ul>
<li>GitFlow 브랜치: <code>feature/SPEC-XXX-{name}</code></li>
<li>Draft PR 자동 생성</li>
<li>완전한 EARS 명세 + 16-Core @TAG</li>
</ul>
<h4 id="2-code-builder-tdd">2. code-builder (TDD + 모드별 커밋 전략)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/code-builder.md</code></p>
<p><strong>개인 모드 지원:</strong></p>
<ul>
<li>TDD 각 단계마다 자동 체크포인트</li>
<li>실패해도 안전한 실험 환경</li>
<li>체크포인트 기반 빠른 롤백</li>
</ul>
<p><strong>팀 모드 지원:</strong></p>
<ul>
<li>7단계 자동 커밋 (RED-GREEN-REFACTOR)</li>
<li>TRUST 원칙 엄격 검증</li>
<li>CI/CD 자동 트리거</li>
</ul>
<h4 id="3-doc-syncer-pr">3. doc-syncer (문서 + 모드별 PR 관리)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/doc-syncer.md</code></p>
<p><strong>개인 모드 지원:</strong></p>
<ul>
<li>간소화된 문서 동기화</li>
<li>체크포인트와 함께 문서화</li>
<li>PR 생략 가능한 완료 프로세스</li>
</ul>
<p><strong>팀 모드 지원:</strong></p>
<ul>
<li>완전한 Living Document 동기화</li>
<li>Draft → Ready for Review 전환</li>
<li>리뷰어 자동 할당</li>
</ul>
<h4 id="4-git-manager-git">4. git-manager (Git 작업 전담)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/git-manager.md</code></p>
<p><strong>모든 Git 작업의 중앙 관리자:</strong></p>
<ul>
<li>체크포인트 생성/관리</li>
<li>브랜치 전략 실행</li>
<li>롤백 시스템 관리</li>
<li>원격 저장소 동기화</li>
<li>모드별 Git 전략 자동 선택</li>
</ul>
<h4 id="5-debug-helper">5. debug-helper (통합 디버깅 시스템)</h4>
<p><strong>파일</strong>: <code>.claude/agents/moai/debug-helper.md</code></p>
<ul>
<li><strong>일반 오류 디버깅</strong>: 코드/Git/설정 오류 분석 및 해결책 제시</li>
<li><strong>개발 가이드 위반 검사</strong>: 5원칙 준수도 체계적 검증</li>
<li><strong>구조화된 진단</strong>: 문제 분석 → 영향도 평가 → 해결 방안 → 후속 작업 권장</li>
<li><strong>에이전트 위임</strong>: 진단만 수행하고 실제 수정은 전담 에이전트에게 위임</li>
<li><strong>단일 책임</strong>: debug-helper는 문제 식별에만 집중, 수정 작업은 code-builder/git-manager 등이 담당</li>
</ul>
<h3 id="git_1">Git 관리 시스템</h3>
<h4 id="git_2">완전 자동화된 Git 워크플로우</h4>
<p><strong>워크플로우 기반 Git 처리</strong> (권장 - 99% 케이스):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 명세 작성 단계</span>
/moai:1-spec<span class="w">                </span><span class="c1"># spec-builder + git-manager</span>
<span class="w">                           </span><span class="c1"># → 브랜치 생성, SPEC 커밋 자동 처리</span>

<span class="c1"># TDD 구현 단계</span>
/moai:2-build<span class="w">              </span><span class="c1"># code-builder + git-manager</span>
<span class="w">                           </span><span class="c1"># → RED/GREEN/REFACTOR 커밋 자동 처리</span>
<span class="w">                           </span><span class="c1"># → 단계별 체크포인트 자동 생성</span>

<span class="c1"># 문서 동기화 단계</span>
/moai:3-sync<span class="w">               </span><span class="c1"># doc-syncer + git-manager</span>
<span class="w">                           </span><span class="c1"># → 문서 동기화, PR 관리 자동 처리</span>
</code></pre></div>
<p><strong>직접 Git 작업</strong> (특수 케이스 - 1%):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 체크포인트 관련</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;체크포인트 생성&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;체크포인트 목록 확인&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;이전 상태로 롤백&quot;</span>

<span class="c1"># 브랜치 관련</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;브랜치 상태 확인&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;브랜치 생성: feature/custom-feature&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;브랜치 정리&quot;</span>

<span class="c1"># 동기화 관련</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;원격 저장소 동기화&quot;</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;충돌 해결&quot;</span>
</code></pre></div>
<h4 id="git_3">Git 작업 원칙</h4>
<p><strong>🎯 Git 작업 우선순위</strong>:</p>
<ol>
<li><strong>99% 케이스</strong>: 워크플로우 명령어 사용 (완전 자동 처리)</li>
<li><strong>1% 특수 케이스</strong>: @agent-git-manager 직접 호출</li>
<li><strong>긴급상황</strong>: 표준 git 명령어 사용</li>
</ol>
<p><strong>✅ 자동으로 처리되는 Git 작업</strong>:</p>
<ul>
<li>브랜치 생성 및 전환 (모드별 최적화)</li>
<li>체크포인트 생성 및 관리 (안전한 복구 지점)</li>
<li>커밋 메시지 생성 (TRUST 원칙 기반)</li>
<li>PR 생성 및 상태 관리 (팀 모드)</li>
<li>원격 저장소 동기화</li>
</ul>
<h4 id="git-manager">git-manager 에이전트 특징</h4>
<p><strong>🤖 완전 자동화된 Git 관리</strong>:</p>
<ul>
<li><strong>모드별 최적화</strong>: 개인/팀 모드에 따른 차별화된 Git 전략</li>
<li><strong>개발 가이드 준수</strong>: 모든 Git 작업이 5원칙을 자동으로 준수</li>
<li><strong>16-Core @TAG</strong>: TAG 시스템과 완전 연동된 커밋 관리</li>
<li><strong>체크포인트 시스템</strong>: 자동 백업 및 복구 (Annotated Tag 기반)</li>
<li><strong>롤백 관리</strong>: 안전한 이전 상태 복원</li>
<li><strong>동기화 전략</strong>: 모드별 원격 저장소 동기화</li>
<li><strong>브랜치 관리</strong>: 스마트 브랜치 생성 및 정리</li>
</ul>
<h4 id="_5">동기화 시스템</h4>
<p>원격 저장소 동기화도 git-manager가 자동으로 처리합니다. 수동 점검이 필요하면 다음과 같이 요청할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code>@agent-git-manager &quot;원격 저장소와 최신 동기화 상태인지 확인&quot;
@agent-git-manager &quot;충돌 해결 절차 안내&quot;
</code></pre></div>
<p>CLI에서 직접 확인하려면 <code>python .moai/scripts/sync_manager.py status</code> 를 실행하세요.</p>
<hr />
<h2 id="installation-guide">📦 Installation Guide</h2>
<h3 id="_6">개인/팀 모드 선택적 설치</h3>
<h4 id="1">1. 시스템 요구사항</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 필수 요구사항</span>
-<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.11+
-<span class="w"> </span>Claude<span class="w"> </span>Code<span class="w"> </span><span class="o">(</span>최신<span class="w"> </span>버전<span class="o">)</span>
-<span class="w"> </span>Git<span class="w"> </span><span class="m">2</span>.30+

<span class="c1"># 선택 요구사항 (모드별)</span>
개인<span class="w"> </span>모드:
-<span class="w"> </span>watchdog<span class="w"> </span><span class="o">(</span>pip<span class="w"> </span>install<span class="w"> </span>watchdog<span class="o">)</span><span class="w"> </span>-<span class="w"> </span>파일<span class="w"> </span>감시용

팀<span class="w"> </span>모드:
-<span class="w"> </span>GitHub<span class="w"> </span>CLI<span class="w"> </span><span class="o">(</span>gh<span class="o">)</span><span class="w"> </span>-<span class="w"> </span>PR<span class="w"> </span>자동화용
-<span class="w"> </span>GitHub<span class="w"> </span>계정<span class="w"> </span>-<span class="w"> </span>협업<span class="w"> </span>기능용
</code></pre></div>
<h4 id="2-moai-adk">2. MoAI-ADK 설치</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 기본 설치</span>
pip<span class="w"> </span>install<span class="w"> </span>moai-adk<span class="o">==</span><span class="m">0</span>.1.9

<span class="c1"># 개인 모드로 초기화 (기본값)</span>
mkdir<span class="w"> </span>my-personal-project
<span class="nb">cd</span><span class="w"> </span>my-personal-project
moai<span class="w"> </span>init<span class="w"> </span>--personal

<span class="c1"># 팀 모드로 초기화</span>
mkdir<span class="w"> </span>team-project
<span class="nb">cd</span><span class="w"> </span>team-project
moai<span class="w"> </span>init<span class="w"> </span>--team

<span class="c1"># 설치 확인</span>
moai<span class="w"> </span>--version
<span class="c1"># 출력: MoAI-ADK 0.1.9</span>
</code></pre></div>
<h4 id="3">3. 모드별 초기화 과정</h4>
<p><strong>개인 모드 초기화:</strong></p>
<div class="highlight"><pre><span></span><code>🧪 개인 모드 초기화 중...

⚙️ 개인 개발 최적화 설정:
   ✅ .moai/config.json (personal 모드)
   ✅ 자동 체크포인트 활성화 (KST 기준 5분 간격)
   ✅ 파일 감시 시스템 (watchdog 설치 시)
   ✅ 간소화된 브랜치 전략
   ✅ 체크포인트 롤백 시스템

🤖 Git 관리:
   ✅ git-manager 에이전트 자동 체크포인트
   ✅ 브랜치/커밋/롤백 자동화
   ✅ 필요 시 `@agent-git-manager` 로 수동 지시 가능

🎉 개인 모드 설정 완료! 안전한 실험적 개발 환경 준비됨
</code></pre></div>
<p><strong>팀 모드 초기화:</strong></p>
<div class="highlight"><pre><span></span><code>🏢 팀 모드 초기화 중...

⚙️ 팀 협업 최적화 설정:
   ✅ .moai/config.json (team 모드)
   ✅ GitFlow 표준 워크플로우
   ✅ Draft PR 자동 생성(Anthropic GitHub App 설정 시)
   ✅ 7단계 자동 커밋 패턴
   ✅ GitHub Actions CI/CD 연동

📁 협업 도구 연동:
   ✅ `/install-github-app` 실행 및 Anthropic GitHub App 설치
   ✅ GitHub CLI 연동 확인
   ✅ 리뷰어 추천/배정 자동화 (App + gh 설정 시)
   ✅ PR 라이프사이클/알림 연동

🎉 팀 모드 설정 완료! 전문적인 협업 환경 준비됨
</code></pre></div>
<h4 id="4">4. 모드 전환</h4>
<p>가장 안전한 방법은 <code>/moai:0-project update</code>를 다시 실행해 인터뷰 도중 개인/팀 모드를 재선택하는 것입니다. 마법사는 기존 문서를 분석하고 팀 규모·협업 흐름을 다시 물어본 뒤 <code>.moai/config.json</code>을 일관되게 갱신합니다.</p>
<p>직접 CLI로 전환해야 할 경우에만 아래 명령을 사용하세요:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 개인 → 팀 모드 전환 (수동)</span>
moai<span class="w"> </span>config<span class="w"> </span>--mode<span class="w"> </span>team

<span class="c1"># 팀 → 개인 모드 전환 (수동)</span>
moai<span class="w"> </span>config<span class="w"> </span>--mode<span class="w"> </span>personal

<span class="c1"># 현재 모드 확인</span>
moai<span class="w"> </span>config<span class="w"> </span>--show
</code></pre></div>
<hr />
<h2 id="usage-guide">🎯 Usage Guide</h2>
<h3 id="0-moai0-project">0단계: <code>/moai:0-project</code> 프로젝트 문서 초기화</h3>
<table>
<thead>
<tr>
<th>구분</th>
<th>질문 예시</th>
<th>출력</th>
<th>메모리 반영</th>
</tr>
</thead>
<tbody>
<tr>
<td>Product</td>
<td>“프로젝트 이름/비전/성공 지표는?”</td>
<td><code>.moai/project/product.md</code></td>
<td>CLAUDE.md <code>Project Overview</code> 섹션</td>
</tr>
<tr>
<td>Structure</td>
<td>“핵심 도메인/모듈/외부 연동은?”</td>
<td><code>.moai/project/structure.md</code></td>
<td>CLAUDE.md <code>System Structure</code> 섹션</td>
</tr>
<tr>
<td>Tech</td>
<td>“언어/프레임워크/배포 타깃은?”</td>
<td><code>.moai/project/tech.md</code></td>
<td>CLAUDE.md <code>Tech Stack</code> 섹션</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>신규 프로젝트</strong>: 대화형 질문(최대 10문항)으로 각 문서를 채운 뒤 저장한다.</li>
<li><strong>기존 코드베이스</strong>: <code>python3 .moai/scripts/project_initializer.py --analyze</code> 명령으로 언어/디렉터리/테스트 정보를 요약한 뒤 Claude 대화로 세부 내용을 보완한다.</li>
<li><strong>설정 갱신</strong>: 개인/팀 모드나 출력 스타일을 바꾸고 싶을 때는 <code>/moai:0-project update</code> 로 마법사를 다시 실행해 조정한다. (필요 시에만 <code>moai config --mode ...</code> 등 수동 명령 사용)</li>
<li><strong>완료 후</strong>: “Claude Code를 재시작해 새로운 프로젝트 문서를 메모리로 다시 불러오세요” 안내가 출력된다.</li>
</ul>
<h3 id="1-moai1-spec-auto">1단계: <code>/moai:1-spec</code> auto 제안 흐름</h3>
<ol>
<li><code>.moai/project/*.md</code>를 읽어 주요 기능/우선순위를 추출한다.</li>
<li><strong>Personal 모드</strong>: 제안 목록(예: SPEC-001~003)을 표시하고 사용자 승인 시 <code>.moai/specs/</code>에 일괄 생성한다.</li>
<li><strong>Team 모드</strong>: GitHub Issue(또는 Discussion)를 생성하고 라벨·담당자·프로젝트 보드와 연동한다.</li>
<li>수동 단일 SPEC이 필요할 때는 <code>/moai:1-spec "기능명"</code>을 사용하면 기존 방식으로 한 개만 생성한다.</li>
</ol>
<hr />
<h3 id="personal-mode_1">개인 모드 (Personal Mode) 사용법</h3>
<h4 id="_7">안전한 실험적 개발 흐름</h4>
<ol>
<li><strong>프로젝트 문서 정리</strong> – <code>/moai:0-project</code> 로 product/structure/tech 문서를 최신 상태로 맞춥니다.</li>
<li><strong>SPEC 작성</strong> – <code>/moai:1-spec</code> 에서 필요한 기능을 선택해 <code>.moai/specs/</code>에 생성합니다.</li>
<li><strong>TDD 구현</strong> – <code>/moai:2-build</code> 가 RED → GREEN → REFACTOR를 자동으로 수행하며, git-manager가 각 단계에서 체크포인트와 커밋을 남깁니다.</li>
<li><strong>문서 동기화</strong> – <code>/moai:3-sync</code> 로 Living Document와 TAG 추적성을 갱신합니다.</li>
</ol>
<blockquote>
<p>체크포인트와 브랜치 관리, 커밋 메시지 작성, 롤백 지점 생성은 <strong>git-manager 에이전트가 자동으로 처리</strong>합니다. 실패한 실험도 안전하게 롤백되므로 Git 명령을 직접 실행할 필요가 없습니다.</p>
</blockquote>
<h4 id="_8">수동 개입이 필요할 때</h4>
<p>특별한 실험이나 복구가 필요하면 Claude 대화창에서 다음과 같이 git-manager 에이전트를 직접 호출합니다.</p>
<div class="highlight"><pre><span></span><code>@agent-git-manager &quot;체크포인트 생성: 새로운 실험 시작&quot;
@agent-git-manager &quot;체크포인트 목록 확인&quot;
@agent-git-manager &quot;최근 체크포인트로 롤백&quot;
</code></pre></div>
<p>커맨드라인이 필요한 경우에는 통합 스크립트를 사용할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 최근 체크포인트 5개 확인</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">5</span>

<span class="c1"># 수동 체크포인트 생성</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>create<span class="w"> </span><span class="s2">&quot;실험 종료&quot;</span>

<span class="c1"># 지정 태그로 롤백</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>rollback<span class="w"> </span>moai_cp/20240924-153015
</code></pre></div>
<h3 id="team-mode_1">팀 모드 (Team Mode) 사용법</h3>
<h4 id="gitflow">완전한 GitFlow 자동화</h4>
<ol>
<li><strong>백로그 준비</strong> – <code>/moai:0-project</code> 로 프로젝트 컨텍스트를 정리한 뒤 <code>/moai:1-spec</code> 을 실행하면, 확인한 SPEC이 GitHub Issue 또는 Discussion 으로 등록되고 대응되는 feature 브랜치가 생성됩니다.</li>
<li><strong>기능 개발</strong> – 담당자는 생성된 Issue에서 브랜치 정보를 확인하고 <code>/moai:2-build SPEC-XXX</code> 를 실행하여 RED/GREEN/REFACTOR 커밋과 체크포인트를 자동으로 생성합니다.</li>
<li><strong>문서 &amp; PR 동기화</strong> – <code>/moai:3-sync</code> 는 Living Document 를 갱신하고 Draft PR 을 Ready for Review 로 승격하며 리뷰어 지정까지 수행합니다.</li>
</ol>
<blockquote>
<p>팀 모드에서도 git-manager가 브랜치 관리, 커밋 시그니처, 체크포인트 생성, PR 상태 전환을 자동으로 처리합니다. 수동으로 Git 명령을 실행할 필요가 없으며, 필요시 <code>@agent-git-manager</code> 에게 지시하면 됩니다.</p>
</blockquote>
<h4 id="_9">병렬 작업 시 팁</h4>
<ul>
<li>GitHub CLI 로 Issue 상세를 확인하고 담당자를 조정합니다.
  <div class="highlight"><pre><span></span><code>gh<span class="w"> </span>issue<span class="w"> </span>list<span class="w"> </span>--label<span class="w"> </span>SPEC
gh<span class="w"> </span>issue<span class="w"> </span>view<span class="w"> </span>SPEC-001<span class="w"> </span>--web
</code></pre></div></li>
<li>브랜치나 PR 상태가 궁금하면 에이전트에게 직접 요청합니다.
  <div class="highlight"><pre><span></span><code>@agent-git-manager &quot;feature/SPEC-001-user-auth 브랜치 상태 요약&quot;
@agent-git-manager &quot;현재 PR 동기화 방법 안내&quot;
</code></pre></div></li>
</ul>
<h4 id="github-app-actions">GitHub App &amp; Actions 설정 가이드</h4>
<ol>
<li>터미널에서 <code>claude</code>를 실행하고 <code>/install-github-app</code>을 입력하여 Anthropic GitHub App 설치 마법사를 실행합니다.</li>
<li>설치 범위(Repository)와 권한을 승인한 뒤, <code>gh auth status</code>로 GitHub CLI 인증을 확인합니다.</li>
<li>레포지토리에 다음 시크릿을 설정합니다:</li>
<li><code>ANTHROPIC_API_KEY</code></li>
<li>필요 시 <code>OPENAI_API_KEY</code> 등 추가 키</li>
<li><code>.github/workflows/claude-code.yml</code> 예시를 참고해 다음과 같이 구성합니다:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">review</span><span class="p">:</span>
<span class="w">    </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">anthropics/claude-code-action/.github/workflows/pr-review.yml@v1</span>
<span class="w">    </span><span class="nt">with</span><span class="p">:</span>
<span class="w">      </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">claude-3-5-sonnet-latest</span>
</code></pre></div>
<ol>
<li>워크플로 실행 후 Slack/이메일 등 알림이 필요하면 GitHub App → Slack 연결을 추가합니다.</li>
</ol>
<h3 id="git_4">Git 관리 가이드</h3>
<p>모든 Git 작업은 기본적으로 git-manager 에이전트가 자동화합니다. 사용자는 <code>/moai:0-project</code> → <code>/moai:3-sync</code> 워크플로우만 실행하면 되며, 브랜치 생성·체크포인트·커밋·PR 준비가 자동으로 수행됩니다.</p>
<p>필요 시 다음과 같이 git-manager 에이전트나 보조 스크립트를 활용해 수동 진단이 가능합니다.</p>
<div class="highlight"><pre><span></span><code>@agent-git-manager &quot;체크포인트 진행 상황 요약&quot;
@agent-git-manager &quot;현재 브랜치 동기화 절차 안내&quot;
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># 브랜치 상태 진단</span>
python<span class="w"> </span>.moai/scripts/branch_manager.py<span class="w"> </span>status

<span class="c1"># 원격 동기화 점검</span>
python<span class="w"> </span>.moai/scripts/sync_manager.py<span class="w"> </span>status
</code></pre></div>
<hr />
<h2 id="migration-guide">🔄 Migration Guide</h2>
<h3 id="019_1">이전 버전에서 0.1.9로 업그레이드</h3>
<h4 id="v018-v019">v0.1.8에서 v0.1.9로 업그레이드</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 현재 상태 백업</span>
moai<span class="w"> </span>backup<span class="w"> </span>--version<span class="o">=</span><span class="m">0</span>.2.1

<span class="c1"># 0.1.9 설치</span>
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>moai-adk<span class="o">==</span><span class="m">0</span>.1.9

<span class="c1"># 마이그레이션 실행</span>
moai<span class="w"> </span>migrate<span class="w"> </span>--from<span class="o">=</span><span class="m">0</span>.2.1<span class="w"> </span>--to<span class="o">=</span><span class="m">0</span>.1.9

<span class="c1"># 마이그레이션 과정:</span>
<span class="c1"># 🔍 기존 프로젝트 분석...</span>
<span class="c1"># 🎛️ 개인/팀 모드 자동 감지 및 설정...</span>
<span class="c1"># 🤖 git-manager 에이전트 구성...</span>
<span class="c1"># ⚙️ 체크포인트 시스템 활성화...</span>
<span class="c1"># 🎉 0.1.9 마이그레이션 완료!</span>
</code></pre></div>
<h4 id="_10">주요 변경사항 자동 적용</h4>
<table>
<thead>
<tr>
<th>항목</th>
<th>Before</th>
<th>After</th>
<th>자동 변환</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>모드 시스템</strong></td>
<td>없음</td>
<td>개인/팀 모드</td>
<td>✅ 자동 감지</td>
</tr>
<tr>
<td><strong>Git 자동화</strong></td>
<td>수동 Git 작업</td>
<td>git-manager 에이전트 기반 자동화</td>
<td>✅ 자동 구성</td>
</tr>
<tr>
<td><strong>체크포인트</strong></td>
<td>없음</td>
<td>자동 백업/롤백</td>
<td>✅ 자동 활성화</td>
</tr>
<tr>
<td><strong>설정 구조</strong></td>
<td>단순</td>
<td>모드별 최적화</td>
<td>✅ 자동 생성</td>
</tr>
<tr>
<td><strong>TAG 시스템</strong></td>
<td>JSON 파일</td>
<td>SQLite DB (SPEC-009)</td>
<td>✅ 자동 업그레이드</td>
</tr>
</tbody>
</table>
<h4 id="spec-009-tag">🗄️ SPEC-009 TAG 시스템 자동 업그레이드</h4>
<p><strong>v0.1.9 업그레이드 시 자동 처리</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 기존 프로젝트 업그레이드 시 자동 실행됨</span>
moai<span class="w"> </span>migrate<span class="w"> </span>--from<span class="o">=</span><span class="m">0</span>.1.8<span class="w"> </span>--to<span class="o">=</span><span class="m">0</span>.1.9

<span class="c1"># 마이그레이션 로그 예시:</span>
<span class="c1"># ✅ 기존 tags.json 백업 생성 (.moai/backups/tags_v0.1.8.json)</span>
<span class="c1"># 🔄 SPEC-009 SQLite 마이그레이션 시작...</span>
<span class="c1"># 📊 766개 TAG 데이터 변환 중...</span>
<span class="c1"># ⚡ 인덱스 최적화 적용...</span>
<span class="c1"># 🧪 데이터 무결성 검증 완료</span>
<span class="c1"># ✅ SQLite TAG 시스템 활성화 완료 (10x 성능 향상)</span>
</code></pre></div></p>
<p><strong>수동 마이그레이션 (필요 시)</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 기존 프로젝트에서 SPEC-009 수동 적용</span>
<span class="nb">cd</span><span class="w"> </span>your-existing-project/

<span class="c1"># MoAI-ADK 0.1.9 설치 확인</span>
moai<span class="w"> </span>--version<span class="w">  </span><span class="c1"># v0.1.9 확인</span>

<span class="c1"># TAG 시스템 상태 확인</span>
python<span class="w"> </span>.moai/scripts/check-traceability.py<span class="w"> </span>--status

<span class="c1"># 현재가 JSON 시스템이라면 업그레이드</span>
/moai:3-sync<span class="w">  </span><span class="c1"># 자동으로 SQLite로 마이그레이션됨</span>

<span class="c1"># 또는 직접 마이그레이션 실행</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.migration import TagMigrationTool</span>
<span class="s2">migration = TagMigrationTool()</span>
<span class="s2">migration.auto_upgrade_if_needed()  # 조건부 자동 업그레이드</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>호환성 보장</strong>:
- ✅ <strong>기존 명령어 100% 호환</strong>: 모든 <code>/moai:*</code> 명령어가 기존과 동일하게 작동
- ✅ <strong>API 투명성</strong>: 기존 Python 코드 수정 없이 10x 성능 향상
- ✅ <strong>롤백 지원</strong>: 문제 시 언제든 JSON 시스템으로 복원 가능
- ✅ <strong>점진적 전환</strong>: 팀 환경에서도 개별적으로 업그레이드 가능</p>
<p><strong>마이그레이션 검증</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 업그레이드 성공 여부 확인</span>
ls<span class="w"> </span>-la<span class="w"> </span>.moai/indexes/
<span class="c1"># tags.json (기존) + tags.db (신규) 모두 존재해야 함</span>

<span class="c1"># 성능 개선 확인</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from pathlib import Path</span>
<span class="s2">if Path(&#39;.moai/indexes/tags.db&#39;).exists():</span>
<span class="s2">    print(&#39;✅ SQLite 시스템 활성화됨 (10x 성능 향상)&#39;)</span>
<span class="s2">else:</span>
<span class="s2">    print(&#39;📝 JSON 시스템 사용 중&#39;)</span>
<span class="s2">&quot;</span>

<span class="c1"># 기능 정상 동작 확인</span>
/moai:3-sync<span class="w"> </span>status<span class="w">  </span><span class="c1"># TAG 추적성 검사 실행</span>
</code></pre></div></p>
<hr />
<h2 id="developer-guide">🛠️ Developer Guide</h2>
<h3 id="_11">개인/팀 모드 시스템 구현</h3>
<h4 id="_12">모드 감지 및 전환 메커니즘</h4>
<p><strong>설정 파일 구조</strong> (<code>.moai/config.json</code>):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;project&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;personal&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// &quot;personal&quot; | &quot;team&quot;</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-project&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;개인 실험 프로젝트&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;language_detection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;detected_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;detection_confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-24T15:30:15+09:00&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cache_enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;auto_detect_on_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;git_strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;personal&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;auto_checkpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;checkpoint_interval&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max_checkpoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cleanup_days&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;branch_prefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;feature/&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;auto_commit&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;use_gitflow&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;main_branch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;develop_branch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;develop&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;feature_prefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;feature/SPEC-&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;auto_pr&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;draft_pr&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;reviewer_auto_assign&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;constitution&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;simplicity_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;test_coverage_target&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;enforce_tdd&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;require_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;principles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;simplicity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;max_projects&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;프로젝트 규모에 따라 근거를 기록하고 조정하세요.&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="_13">자동 체크포인트 시스템 구현</h4>
<p><strong>AutoCheckpointManager</strong> (<code>.moai/hooks/auto_checkpoint.py</code>):</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AutoCheckpointManager</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_root</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_root</span> <span class="o">=</span> <span class="n">project_root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_config</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">should_create_checkpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;체크포인트 생성 조건 확인&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_personal_mode</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_uncommitted_changes</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_since_last_checkpoint</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_checkpoint_interval</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_checkpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;체크포인트 생성&quot;&quot;&quot;</span>
        <span class="n">checkpoint_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_checkpoint_id</span><span class="p">()</span>

        <span class="c1"># 1. 모든 변경사항 스테이징</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;git&quot;</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="s2">&quot;-A&quot;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_root</span><span class="p">)</span>

        <span class="c1"># 2. 체크포인트 커밋 생성</span>
        <span class="n">commit_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;🔄 Auto-checkpoint: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M:%S&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">message</span><span class="p">:</span>
            <span class="n">commit_message</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;git&quot;</span><span class="p">,</span> <span class="s2">&quot;commit&quot;</span><span class="p">,</span> <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="n">commit_message</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_root</span><span class="p">)</span>

        <span class="c1"># 3. 백업 브랜치 생성</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;git&quot;</span><span class="p">,</span> <span class="s2">&quot;branch&quot;</span><span class="p">,</span> <span class="n">checkpoint_id</span><span class="p">,</span> <span class="s2">&quot;HEAD&quot;</span><span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_root</span><span class="p">)</span>

        <span class="c1"># 4. 메타데이터 저장</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_checkpoint_metadata</span><span class="p">(</span><span class="n">checkpoint_id</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
<p><strong>FileWatcher</strong> (<code>.moai/hooks/file_watcher.py</code>):</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MoAIFileWatcher</span><span class="p">(</span><span class="n">FileSystemEventHandler</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">checkpoint_manager</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkpoint_manager</span> <span class="o">=</span> <span class="n">checkpoint_manager</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">changed_files</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debounce_delay</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># 5초 후 체크포인트</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_modified</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;파일 변경 감지&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_watch_file</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">src_path</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">changed_files</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">src_path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule_checkpoint</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schedule_checkpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;체크포인트 예약&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">debounce_delay</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger_checkpoint</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">trigger_checkpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;체크포인트 실행&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">changed_files</span><span class="p">:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Modified </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">changed_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> files&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkpoint_manager</span><span class="o">.</span><span class="n">create_checkpoint</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">changed_files</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div>
<h4 id="git-manager-git">git-manager 기반 Git 자동화</h4>
<p><strong>git-manager 에이전트</strong> (<code>.claude/agents/moai/git-manager.md</code>):</p>
<div class="highlight"><pre><span></span><code>---
name: git-manager
description: Git 작업 전담 에이전트 - 개인/팀 모드별 Git 전략 자동화
tools: Read, Write, Edit, MultiEdit, Bash, Grep, Glob, TodoWrite
<span class="gu">model: sonnet</span>
<span class="gu">---</span>

You are a Git operations specialist managing mode-specific Git strategies.

<span class="gu">## Core Responsibilities</span>

<span class="gu">### Personal Mode Git Operations</span>

<span class="k">-</span><span class="w"> </span>Auto-checkpoint creation every 5 minutes
<span class="k">-</span><span class="w"> </span>File change detection and immediate backup
<span class="k">-</span><span class="w"> </span>Checkpoint-based rollback system
<span class="k">-</span><span class="w"> </span>Simplified branching: feature/{description}

<span class="gu">### Team Mode Git Operations</span>

<span class="k">-</span><span class="w"> </span>GitFlow standard branching: feature/SPEC-XXX-{name}
<span class="k">-</span><span class="w"> </span>7-stage automatic commits (RED-GREEN-REFACTOR)
<span class="k">-</span><span class="w"> </span>Draft PR creation and lifecycle management
<span class="k">-</span><span class="w"> </span>Team collaboration integration

<span class="gu">### Git Command Implementation</span>

<span class="k">-</span><span class="w"> </span>워크플로우 명령(`/moai:0-project`~`/moai:3-sync`)과 연동된 자동 Git 작업
<span class="k">-</span><span class="w"> </span>수동 요청 시 <span class="sb">`@agent-git-manager`</span> 지시를 해석하여 브랜치/체크포인트/동기화를 실행
<span class="k">-</span><span class="w"> </span>내부 스크립트(`.moai/scripts/*`)를 호출해 진단·복구 기능 제공
</code></pre></div>
<hr />
<h2 id="api-reference">📚 API Reference</h2>
<h3 id="moai">MoAI 핵심 명령어</h3>
<h4 id="moaidebug"><code>/moai:debug</code> (통합 디버깅 시스템)</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 일반 오류 디버깅</span>
/moai:debug<span class="w"> </span><span class="s2">&quot;TypeError: &#39;NoneType&#39; object has no attribute &#39;name&#39;&quot;</span>
/moai:debug<span class="w"> </span><span class="s2">&quot;fatal: refusing to merge unrelated histories&quot;</span>
/moai:debug<span class="w"> </span><span class="s2">&quot;ImportError: No module named &#39;requests&#39;&quot;</span>

<span class="c1"># TRUST 원칙 준수도 검사</span>
/moai:debug<span class="w"> </span>--constitution-check
</code></pre></div>
<p><strong>기능:</strong></p>
<ul>
<li><strong>일반 오류 분석</strong>: 코드/Git/설정 오류의 원인 분석 및 해결책 제시</li>
<li><strong>개발 가이드 검사</strong>: 5원칙(Simplicity/Architecture/Testing/Observability/Versioning) 준수도 체계 검증</li>
<li><strong>구조화된 진단</strong>: 문제 식별 → 영향도 평가 → 해결 방안 → 후속 에이전트 추천</li>
<li><strong>에이전트 위임</strong>: debug-helper는 진단만 수행, 실제 수정은 전담 에이전트(code-builder/git-manager 등)에게 위임</li>
</ul>
<p><strong>출력 형식:</strong></p>
<ul>
<li>문제 위치, 원인 분석, 해결 방안을 구조화된 형태로 제시</li>
<li>적절한 후속 명령어(<code>/moai:2-build</code>, <code>/moai:3-sync</code> 등) 추천</li>
<li>개발 가이드 검사 시 원칙별 준수율과 개선 우선순위 제공</li>
</ul>
<h4 id="moai1-spec"><code>/moai:1-spec</code> (명세 작성)</h4>
<div class="highlight"><pre><span></span><code>/moai:1-spec<span class="w"> </span><span class="o">[</span><span class="s2">&quot;단일 SPEC 제목&quot;</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>SPEC-ID<span class="o">]</span>

<span class="c1"># 기본(auto) 사용법 – 프로젝트 문서를 읽고 제안 목록 확인 후 일괄 생성</span>
/moai:1-spec

<span class="c1"># 수동 모드 – 단일 SPEC을 직접 작성하고 싶을 때</span>
/moai:1-spec<span class="w"> </span><span class="s2">&quot;JWT 인증 시스템&quot;</span>

<span class="c1"># 기존 SPEC 보완 – 수동 모드와 함께 사용</span>
/moai:1-spec<span class="w"> </span>SPEC-001<span class="w"> </span><span class="s2">&quot;보안 요구사항 보강&quot;</span>
</code></pre></div>
<blockquote>
<p>✅ <strong>Personal 모드</strong>: 확인한 제안을 <code>.moai/specs/</code>에 로컬 파일로 생성합니다.</p>
<p>✅ <strong>Team 모드</strong>: 확인한 제안을 GitHub Issue(또는 Discussion)로 등록하고, feature/SPEC-XXX 브랜치 템플릿과 연결합니다(중복 SPEC 방지).</p>
</blockquote>
<h4 id="moai2-build-tdd"><code>/moai:2-build</code> (TDD 구현)</h4>
<div class="highlight"><pre><span></span><code>/moai:2-build<span class="w"> </span><span class="o">[</span>SPEC-ID<span class="o">]</span>

<span class="c1"># 현재 SPEC 구현</span>
/moai:2-build

<span class="c1"># 특정 SPEC 구현</span>
/moai:2-build<span class="w"> </span>SPEC-001

<span class="c1"># 모든 SPEC 구현</span>
/moai:2-build<span class="w"> </span>all
</code></pre></div>
<h4 id="moai3-sync"><code>/moai:3-sync</code> (문서 동기화)</h4>
<div class="highlight"><pre><span></span><code>/moai:3-sync<span class="w"> </span><span class="o">[</span>MODE<span class="o">]</span><span class="w"> </span><span class="o">[</span>target-path<span class="o">]</span>

<span class="c1"># 자동 동기화 (모드별 최적화)</span>
/moai:3-sync

<span class="c1"># 강제 완전 동기화</span>
/moai:3-sync<span class="w"> </span>force

<span class="c1"># 상태 확인</span>
/moai:3-sync<span class="w"> </span>status
</code></pre></div>
<blockquote>
<p>ℹ️ <strong>동기화 자동화 상태</strong>: <code>/moai:3-sync</code> 는 TAG 인덱스를 갱신하고 <code>docs/status/sync-report.md</code> 에 요약 리포트를 생성하며 <code>docs/sections/index.md</code>의 <code>Last Updated</code> 메타를 자동 반영합니다.</p>
<ul>
<li>README·심층 문서·PR 업데이트는 체크리스트에 따라 수동으로 마무리하세요.</li>
</ul>
</blockquote>
<h3 id="git-manager_1">git-manager 에이전트 활용</h3>
<p>Git 관련 보조 명령은 별도의 <code>/moai:git:*</code> 커맨드로 제공되지 않습니다. git-manager 에이전트가 워크플로우 전반의 브랜치/체크포인트/PR 작업을 자동으로 처리하며, 필요한 경우 직접 지시를 내려 세부 작업을 실행할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code>@agent-git-manager &quot;체크포인트 현황 공유&quot;
@agent-git-manager &quot;feature/SPEC-002-data-sync 브랜치 정리&quot;
</code></pre></div>
<p>CLI 진단이 필요하면 다음 스크립트를 사용할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">5</span>
python<span class="w"> </span>.moai/scripts/branch_manager.py<span class="w"> </span>status
python<span class="w"> </span>.moai/scripts/sync_manager.py<span class="w"> </span>status
</code></pre></div>
<h3 id="tag-api-spec-009">🏷️ TAG 시스템 API (SPEC-009)</h3>
<p>MoAI-ADK v0.1.9의 혁신적인 SQLite 기반 TAG 시스템 API를 소개합니다.</p>
<h4 id="tagindexadapter-tag">TagIndexAdapter - 고성능 TAG 관리</h4>
<p><strong>기본 사용법</strong>:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.adapter</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagIndexAdapter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># 어댑터 초기화 (SQLite 백엔드 + JSON 폴백)</span>
<span class="n">adapter</span> <span class="o">=</span> <span class="n">TagIndexAdapter</span><span class="p">(</span>
    <span class="n">database_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">),</span>
    <span class="n">json_fallback_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">adapter</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>

<span class="c1"># 모든 TAG 조회 (JSON 호환 포맷)</span>
<span class="n">all_tags</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_tags</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;총 TAG 개수: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_tags</span><span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># TAG 추가 (기존 API와 100% 호환)</span>
<span class="n">success</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">add_tag</span><span class="p">(</span>
    <span class="n">tag_key</span><span class="o">=</span><span class="s2">&quot;FEATURE:NEW-API-001&quot;</span><span class="p">,</span>
    <span class="n">reference</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;file_path&quot;</span><span class="p">:</span> <span class="s2">&quot;src/api/new_endpoint.py&quot;</span><span class="p">,</span>
        <span class="s2">&quot;line_number&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;RESTful API 엔드포인트 구현&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c1"># TAG 삭제 (연관된 참조도 함께 삭제)</span>
<span class="n">removed</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">remove_tag</span><span class="p">(</span><span class="s2">&quot;DEPRECATED:OLD-FEATURE-001&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>🚀 고급 검색 API</strong> (83x 빠른 성능) - SPEC-009 신규 기능:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 카테고리별 고속 검색 (0.18ms 초고속 응답)</span>
<span class="n">req_tags</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">search_by_category</span><span class="p">(</span><span class="s2">&quot;REQ&quot;</span><span class="p">)</span>
<span class="n">design_tags</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">search_by_category</span><span class="p">(</span><span class="s2">&quot;DESIGN&quot;</span><span class="p">)</span>
<span class="n">test_tags</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">search_by_category</span><span class="p">(</span><span class="s2">&quot;TEST&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📋 REQ TAG 개수: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">req_tags</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">req_tags</span><span class="p">[:</span><span class="mi">3</span><span class="p">]:</span>  <span class="c1"># 상위 3개만 출력</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">tag</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tag</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    📄 </span><span class="si">{</span><span class="n">tag</span><span class="p">[</span><span class="s1">&#39;file_path&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (라인 </span><span class="si">{</span><span class="n">tag</span><span class="p">[</span><span class="s1">&#39;line_number&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># 2. 추적성 체인 구축 (0.04ms 체인 생성)</span>
<span class="c1"># 순방향 체인: REQ → DESIGN → TASK → TEST</span>
<span class="n">forward_chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span>
    <span class="n">tag_identifier</span><span class="o">=</span><span class="s2">&quot;REQ:USER-AUTH-001&quot;</span><span class="p">,</span>
    <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;forward&quot;</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔗 추적성 체인 정보:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  📊 노드 수: </span><span class="si">{</span><span class="n">forward_chain</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;total_nodes&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  🔄 연결 수: </span><span class="si">{</span><span class="n">forward_chain</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;total_edges&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  📏 체인 깊이: </span><span class="si">{</span><span class="n">forward_chain</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;chain_depth&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># 역방향 체인: TEST → TASK → DESIGN → REQ</span>
<span class="n">backward_chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span>
    <span class="n">tag_identifier</span><span class="o">=</span><span class="s2">&quot;TEST:UNIT-001&quot;</span><span class="p">,</span>
    <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;backward&quot;</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="c1"># 양방향 전체 연결 그래프</span>
<span class="n">full_graph</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span>
    <span class="n">tag_identifier</span><span class="o">=</span><span class="s2">&quot;DESIGN:JWT-001&quot;</span><span class="p">,</span>
    <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">15</span>
<span class="p">)</span>
</code></pre></div></p>
<p><strong>TRUST 원칙 기반 안전성</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 3. 안전한 오류 처리 (빈 결과 반환)</span>
<span class="n">invalid_tags</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">search_by_category</span><span class="p">(</span><span class="s2">&quot;INVALID_CATEGORY&quot;</span><span class="p">)</span>  <span class="c1"># []</span>
<span class="n">nonexistent_chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span><span class="s2">&quot;NONEXISTENT:TAG&quot;</span><span class="p">)</span>  <span class="c1"># 기본 구조</span>

<span class="c1"># 4. 구조화 감사 로깅 (자동 생성)</span>
<span class="c1"># JSON 형식으로 모든 작업이 로그에 기록됨:</span>
<span class="c1"># {&quot;operation&quot;: &quot;search_by_category&quot;, &quot;category&quot;: &quot;REQ&quot;,</span>
<span class="c1">#  &quot;backend&quot;: &quot;sqlite&quot;, &quot;result_count&quot;: 53, &quot;duration_ms&quot;: 0.18, &quot;success&quot;: true}</span>
</code></pre></div></p>
<h4 id="tagdatabasemanager-sqlite">TagDatabaseManager - 직접 SQLite 접근</h4>
<p><strong>데이터베이스 스키마</strong>:
<div class="highlight"><pre><span></span><code><span class="c1">-- SPEC-009 표준 스키마</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">tag_key</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">tag_type</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">tag_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tag_references</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">tag_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">file_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">line_number</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">context</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">tag_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">tags</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div></p>
<p><strong>직접 데이터베이스 접근</strong>:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagDatabaseManager</span>

<span class="c1"># 데이터베이스 관리자 초기화</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">TagDatabaseManager</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">))</span>

<span class="c1"># 트랜잭션 안전성이 보장된 배치 작업</span>
<span class="k">with</span> <span class="n">db</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
    <span class="c1"># 여러 TAG를 원자적으로 처리</span>
    <span class="k">for</span> <span class="n">tag_data</span> <span class="ow">in</span> <span class="n">bulk_tag_list</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">insert_tag</span><span class="p">(</span>
            <span class="n">tag_key</span><span class="o">=</span><span class="n">tag_data</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">],</span>
            <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">],</span>
            <span class="n">tag_id</span><span class="o">=</span><span class="n">tag_data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
            <span class="n">description</span><span class="o">=</span><span class="n">tag_data</span><span class="p">[</span><span class="s1">&#39;desc&#39;</span><span class="p">]</span>
        <span class="p">)</span>

<span class="c1"># 고성능 병렬 쿼리 (비동기 처리)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">parallel_search</span><span class="p">():</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">db</span><span class="o">.</span><span class="n">query_by_category_async</span><span class="p">(</span><span class="s2">&quot;FEATURE&quot;</span><span class="p">),</span>
        <span class="n">db</span><span class="o">.</span><span class="n">query_by_category_async</span><span class="p">(</span><span class="s2">&quot;TEST&quot;</span><span class="p">),</span>
        <span class="n">db</span><span class="o">.</span><span class="n">query_by_category_async</span><span class="p">(</span><span class="s2">&quot;API&quot;</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="s2">&quot;FEATURE&quot;</span><span class="p">,</span> <span class="s2">&quot;TEST&quot;</span><span class="p">,</span> <span class="s2">&quot;API&quot;</span><span class="p">],</span> <span class="n">results</span><span class="p">))</span>

<span class="c1"># 통계 정보 조회</span>
<span class="n">stats</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_statistics</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">📊 TAG 시스템 통계:</span>
<span class="s2">- 총 TAG 개수: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;total_tags&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">- 카테고리 분포: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;category_distribution&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">- 파일 참조 개수: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;file_references&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">- 데이터베이스 크기: </span><span class="si">{</span><span class="n">stats</span><span class="p">[</span><span class="s1">&#39;db_size_mb&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">MB</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</code></pre></div></p>
<h4 id="tagmigrationtool-">TagMigrationTool - 데이터 마이그레이션</h4>
<p><strong>JSON ↔ SQLite 마이그레이션</strong>:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.migration</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagMigrationTool</span>

<span class="n">migration</span> <span class="o">=</span> <span class="n">TagMigrationTool</span><span class="p">()</span>

<span class="c1"># JSON에서 SQLite로 마이그레이션</span>
<span class="n">json_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="p">)</span>
<span class="n">db_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">)</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">migration</span><span class="o">.</span><span class="n">migrate_json_to_sqlite</span><span class="p">(</span>
    <span class="n">json_path</span><span class="o">=</span><span class="n">json_path</span><span class="p">,</span>
    <span class="n">db_path</span><span class="o">=</span><span class="n">db_path</span><span class="p">,</span>
    <span class="n">preserve_backup</span><span class="o">=</span><span class="kc">True</span>  <span class="c1"># 자동 백업 생성</span>
<span class="p">)</span>

<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c1"># 데이터 무결성 검증</span>
    <span class="k">if</span> <span class="n">migration</span><span class="o">.</span><span class="n">verify_migration</span><span class="p">(</span><span class="n">json_path</span><span class="p">,</span> <span class="n">db_path</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ 마이그레이션 성공 및 데이터 무결성 확인&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;❌ 데이터 무결성 검증 실패&quot;</span><span class="p">)</span>

<span class="c1"># 필요 시 롤백</span>
<span class="n">rollback_success</span> <span class="o">=</span> <span class="n">migration</span><span class="o">.</span><span class="n">migrate_sqlite_to_json</span><span class="p">(</span>
    <span class="n">db_path</span><span class="o">=</span><span class="n">db_path</span><span class="p">,</span>
    <span class="n">json_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags_restored.json&#39;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></p>
<h4 id="tagperformancebenchmark-">TagPerformanceBenchmark - 성능 측정</h4>
<p><strong>성능 벤치마크</strong>:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.benchmark</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagPerformanceBenchmark</span>

<span class="n">benchmark</span> <span class="o">=</span> <span class="n">TagPerformanceBenchmark</span><span class="p">()</span>

<span class="c1"># 성능 비교 실행</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">benchmark</span><span class="o">.</span><span class="n">compare_performance</span><span class="p">(</span>
    <span class="n">json_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="p">),</span>
    <span class="n">sqlite_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🚀 성능 비교 결과:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">operation</span><span class="p">,</span> <span class="n">metrics</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">json_time</span> <span class="o">=</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;json_ms&#39;</span><span class="p">]</span>
    <span class="n">sqlite_time</span> <span class="o">=</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;sqlite_ms&#39;</span><span class="p">]</span>
    <span class="n">improvement</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">json_time</span> <span class="o">/</span> <span class="n">sqlite_time</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    JSON: </span><span class="si">{</span><span class="n">json_time</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    SQLite: </span><span class="si">{</span><span class="n">sqlite_time</span><span class="si">}</span><span class="s2">ms&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    개선: </span><span class="si">{</span><span class="n">improvement</span><span class="si">}</span><span class="s2">x 빨라짐&quot;</span><span class="p">)</span>

<span class="c1"># 메모리 사용량 프로파일링</span>
<span class="n">memory_profile</span> <span class="o">=</span> <span class="n">benchmark</span><span class="o">.</span><span class="n">profile_memory_usage</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">💾 메모리 사용량 비교:</span>
<span class="s2">- JSON 시스템: </span><span class="si">{</span><span class="n">memory_profile</span><span class="p">[</span><span class="s1">&#39;json_mb&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">MB</span>
<span class="s2">- SQLite 시스템: </span><span class="si">{</span><span class="n">memory_profile</span><span class="p">[</span><span class="s1">&#39;sqlite_mb&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">MB</span>
<span class="s2">- 절약: </span><span class="si">{</span><span class="n">memory_profile</span><span class="p">[</span><span class="s1">&#39;reduction_percent&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">%</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>CLI 도구</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># TAG 시스템 상태 확인</span>
python<span class="w"> </span>.moai/scripts/check-traceability.py<span class="w"> </span>--update

<span class="c1"># 성능 벤치마크 실행</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;from src.moai_adk.core.tag_system.benchmark import TagPerformanceBenchmark; TagPerformanceBenchmark().run_comprehensive_benchmark()&quot;</span>

<span class="c1">### Advanced TAG Search API</span>

SPEC-009<span class="w"> </span>SQLite<span class="w"> </span>마이그레이션과<span class="w"> </span>함께<span class="w"> </span>추가된<span class="w"> </span>고급<span class="w"> </span>검색<span class="w"> </span>및<span class="w"> </span>추적성<span class="w"> </span>API입니다.

<span class="c1">#### TagIndexAdapter - 고급 검색 기능</span>

**카테고리별<span class="w"> </span>TAG<span class="w"> </span>검색**:
<span class="sb">```</span>python
from<span class="w"> </span>src.moai_adk.core.tag_system.adapter<span class="w"> </span>import<span class="w"> </span>TagIndexAdapter
from<span class="w"> </span>pathlib<span class="w"> </span>import<span class="w"> </span>Path

<span class="c1"># 어댑터 초기화 (SQLite 백엔드 사용)</span>
<span class="nv">adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>TagIndexAdapter<span class="o">(</span>
<span class="w">    </span><span class="nv">database_path</span><span class="o">=</span>Path<span class="o">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="o">)</span>,
<span class="w">    </span><span class="nv">json_fallback_path</span><span class="o">=</span>Path<span class="o">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="o">)</span><span class="w">  </span><span class="c1"># 폴백용</span>
<span class="o">)</span>
adapter.initialize<span class="o">()</span>

<span class="c1"># REQ 카테고리의 모든 TAG 검색</span>
<span class="nv">req_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>adapter.search_by_category<span class="o">(</span><span class="s2">&quot;REQ&quot;</span><span class="o">)</span>

print<span class="o">(</span><span class="s2">&quot;📋 REQ 카테고리 TAG 목록:&quot;</span><span class="o">)</span>
<span class="k">for</span><span class="w"> </span>tag<span class="w"> </span><span class="k">in</span><span class="w"> </span>req_tags:
<span class="w">    </span>print<span class="o">(</span>f<span class="s2">&quot;  {tag[&#39;identifier&#39;]}: {tag[&#39;description&#39;]}&quot;</span><span class="o">)</span>
<span class="w">    </span>print<span class="o">(</span>f<span class="s2">&quot;    📄 파일: {tag[&#39;file_path&#39;]} (라인 {tag[&#39;line_number&#39;]})&quot;</span><span class="o">)</span>

<span class="c1"># 다른 카테고리들도 검색 가능</span>
<span class="nv">design_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>adapter.search_by_category<span class="o">(</span><span class="s2">&quot;DESIGN&quot;</span><span class="o">)</span>
<span class="nv">task_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>adapter.search_by_category<span class="o">(</span><span class="s2">&quot;TASK&quot;</span><span class="o">)</span>
<span class="nv">test_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>adapter.search_by_category<span class="o">(</span><span class="s2">&quot;TEST&quot;</span><span class="o">)</span>
</code></pre></div></p>
<p><strong>추적성 체인 구축</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 순방향 추적성 체인 (REQ → DESIGN → TASK → TEST)</span>
<span class="n">forward_chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span>
    <span class="n">tag_identifier</span><span class="o">=</span><span class="s2">&quot;REQ:USER-AUTH-001&quot;</span><span class="p">,</span>
    <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;forward&quot;</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🔗 순방향 추적성 체인:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📊 총 노드: </span><span class="si">{</span><span class="n">forward_chain</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;total_nodes&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">개&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 총 연결: </span><span class="si">{</span><span class="n">forward_chain</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;total_edges&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">개&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">forward_chain</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  [</span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    📝 </span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    📄 </span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="s1">&#39;file_path&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># 역방향 추적성 체인 (TEST → TASK → DESIGN → REQ)</span>
<span class="n">backward_chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span>
    <span class="n">tag_identifier</span><span class="o">=</span><span class="s2">&quot;TEST:UNIT-001&quot;</span><span class="p">,</span>
    <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;backward&quot;</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="c1"># 양방향 전체 연결 그래프</span>
<span class="n">full_chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span>
    <span class="n">tag_identifier</span><span class="o">=</span><span class="s2">&quot;DESIGN:JWT-001&quot;</span><span class="p">,</span>
    <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">15</span>
<span class="p">)</span>
</code></pre></div></p>
<h4 id="_14">성능 특성</h4>
<p><strong>SQLite 백엔드 성능</strong> (SPEC-009 달성 지표):
- <code>search_by_category()</code>: <strong>15ms 이내</strong> (JSON 대비 10x 빠름)
- <code>get_traceability_chain()</code>: <strong>89ms 이내</strong> (복잡한 체인도 고속 처리)
- 메모리 사용량: <strong>73% 감소</strong> (45MB → 12MB)
- ACID 트랜잭션: <strong>완전 지원</strong> (동시 접근 안전)</p>
<p><strong>구조화 로깅</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T14:30:25.123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;component&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TagIndexAdapter&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;operation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;search_by_category&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;REQ&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;backend&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sqlite&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;result_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;duration_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="api">API 호환성</h4>
<p><strong>JSON API 완벽 호환</strong>:
- 기존 JSON API와 100% 동일한 반환 형식
- 투명한 SQLite ↔ JSON 백엔드 전환
- 기존 스크립트 무변경으로 동작</p>
<p><strong>안전한 폴백</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># SQLite 사용 불가 시 자동 JSON 폴백</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">adapter</span><span class="o">.</span><span class="n">_sqlite_available</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⚠️  SQLite 백엔드 사용 불가, JSON 모드로 동작&quot;</span><span class="p">)</span>
    <span class="c1"># 기존 기능 그대로 동작, 단지 성능만 차이</span>

<span class="c1"># 에러 발생 시 빈 결과 반환 (안전한 실패)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">search_by_category</span><span class="p">(</span><span class="s2">&quot;INVALID&quot;</span><span class="p">)</span>  <span class="c1"># []</span>
<span class="n">chain</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span><span class="s2">&quot;NONEXISTENT&quot;</span><span class="p">)</span>  <span class="c1"># 기본 구조</span>
</code></pre></div></p>
<h4 id="trust">TRUST 원칙 준수</h4>
<ul>
<li><strong>T</strong>est First: 모든 API가 실패 테스트로 시작</li>
<li><strong>R</strong>eadable: 상세한 docstring과 예제 코드</li>
<li><strong>U</strong>nified: 기존 어댑터 패턴과 일관성</li>
<li><strong>S</strong>ecured: 입력 검증, 구조화 로깅, 안전한 실패</li>
<li><strong>T</strong>rackable: 성능 메트릭, 감사 로그, 추적성 체인</li>
</ul>
<h1 id="_15">데이터베이스 최적화</h1>
<p>python -c "from src.moai_adk.core.tag_system.database import TagDatabaseManager; TagDatabaseManager('.moai/indexes/tags.db').optimize_database()"
<div class="highlight"><pre><span></span><code>**성능 지표 (SPEC-009 실제 달성 성과)** 🚀:
- 🔍 **TAG 검색**: 150ms → **0.18ms (83배 개선!)** - 목표 대비 8.3x 초과 달성
- 🔗 **추적성 체인**: 불가능 → **0.04ms (2,225배 개선!)** - 완전한 신규 기능
- 📊 **인덱스 빌드**: 2.1s → **220ms (9.5x 개선)** - 목표 달성
- 💾 **메모리 사용량**: 45MB → **12MB (73% 절약)** - 목표 달성
- 🔄 **동시 접근**: 불가능 → **ACID 트랜잭션 완전 지원** - 목표 달성
- 🎯 **고급 API**: 기본 기능만 → **search_by_category(), get_traceability_chain()** - 신규

---

### 진단 명령어

#### `/moai:status`

```bash
# 프로젝트 진단 보고서 출력
/moai:status
</code></pre></div></p>
<blockquote>
<p>ℹ️ <code>moai:status</code> 는 SessionStart Hook 에서 제공하던 상세 진단을 독립 명령으로 분리한 것입니다. 기본 알림은 경량화되고, 필요할 때만 전체 보고서를 확인할 수 있습니다.</p>
</blockquote>
<hr />
<h2 id="output-styles">🎨 Output Styles</h2>
<p>MoAI-ADK 0.1.9는 개인/팀 모드와 연동된 <strong>5가지 출력 스타일</strong>을 제공합니다.</p>
<h3 id="_16">사용 가능한 스타일</h3>
<table>
<thead>
<tr>
<th>스타일</th>
<th>대상 사용자</th>
<th>개인/팀 모드 최적화</th>
<th>특징</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>expert</strong></td>
<td>숙련 개발자</td>
<td>양쪽 모드</td>
<td>간결한 설명, 결과 중심</td>
</tr>
<tr>
<td><strong>mentor</strong></td>
<td>팀 리더/멘토</td>
<td>팀 모드 특화</td>
<td>교육적, 베스트 프랙티스</td>
</tr>
<tr>
<td><strong>study</strong></td>
<td>학습자</td>
<td>개인 모드 특화</td>
<td>단계별 설명, 개념 정리</td>
</tr>
<tr>
<td><strong>beginner</strong></td>
<td>초보자</td>
<td>개인 모드 특화</td>
<td>친절한 설명, 실수 방지</td>
</tr>
<tr>
<td><strong>audit</strong></td>
<td>검토자/관리자</td>
<td>팀 모드 특화</td>
<td>모든 변경사항 기록</td>
</tr>
</tbody>
</table>
<h3 id="_17">모드별 스타일 자동 선택</h3>
<p>스타일 조정은 <code>/moai:0-project update</code> 인터뷰 중 “출력 스타일” 질문에서 선택하는 것이 권장됩니다. CLI로 직접 설정해야 할 때만 아래 예시처럼 <code>moai config</code> 명령을 사용하세요.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 개인 모드에서 권장 스타일 (수동 설정 필요 시)</span>
moai<span class="w"> </span>config<span class="w"> </span>--mode<span class="w"> </span>personal<span class="w"> </span>--style<span class="w"> </span>study<span class="w">     </span><span class="c1"># 학습 중심</span>
moai<span class="w"> </span>config<span class="w"> </span>--mode<span class="w"> </span>personal<span class="w"> </span>--style<span class="w"> </span>beginner<span class="w">  </span><span class="c1"># 초보자 친화</span>

<span class="c1"># 팀 모드에서 권장 스타일 (수동 설정 필요 시)</span>
moai<span class="w"> </span>config<span class="w"> </span>--mode<span class="w"> </span>team<span class="w"> </span>--style<span class="w"> </span>mentor<span class="w">        </span><span class="c1"># 팀 교육</span>
moai<span class="w"> </span>config<span class="w"> </span>--mode<span class="w"> </span>team<span class="w"> </span>--style<span class="w"> </span>audit<span class="w">         </span><span class="c1"># 변경사항 추적</span>
</code></pre></div>
<hr />
<h2 id="performance-improvements">⚡ Performance Improvements</h2>
<h3 id="moai-adk-019">🚀 MoAI-ADK 0.1.9 획기적 성능 최적화</h3>
<h4 id="_18">전체 워크플로우 성능 혁신</h4>
<table>
<thead>
<tr>
<th>최적화 영역</th>
<th>기존 (v0.1.8)</th>
<th>최적화 후 (v0.1.9+)</th>
<th>개선율</th>
<th>핵심 기술</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>전체 워크플로우</strong></td>
<td>23분</td>
<td><strong>10.3분</strong></td>
<td><strong>55% 단축</strong></td>
<td>병렬 처리 + 차등 스캔</td>
</tr>
<tr>
<td><strong>TDD 사이클</strong></td>
<td>6회 에이전트</td>
<td><strong>2회 에이전트</strong></td>
<td><strong>67% 단축</strong></td>
<td>배치 처리 + 스마트 캐싱</td>
</tr>
<tr>
<td><strong>토큰 비용</strong></td>
<td>기준</td>
<td><strong>40% 절감</strong></td>
<td><strong>40% 절약</strong></td>
<td>haiku/sonnet 적절한 배치</td>
</tr>
<tr>
<td><strong>언어 감지</strong></td>
<td>매번 스캔</td>
<td><strong>캐시 활용</strong></td>
<td><strong>95% 단축</strong></td>
<td>config.json 기반 캐싱</td>
</tr>
<tr>
<td><strong>git-manager</strong></td>
<td>546줄</td>
<td><strong>156줄</strong></td>
<td><strong>71% 간소화</strong></td>
<td>haiku 모델 + 핵심 기능 집중</td>
</tr>
<tr>
<td><strong>TAG 시스템 (SPEC-009)</strong></td>
<td>JSON 150ms</td>
<td><strong>SQLite 0.18ms</strong></td>
<td><strong>83배 가속</strong></td>
<td>SQLite + 트랜잭션 안전성 + 고급 검색 API</td>
</tr>
</tbody>
</table>
<h4 id="phase">🔄 병렬 처리 시스템 (Phase별 동시 실행)</h4>
<p><strong>Phase 1: 프로젝트 초기화 (/moai:0-project)</strong></p>
<div class="highlight"><pre><span></span><code>동시<span class="w"> </span>실행:
├──<span class="w"> </span>📄<span class="w"> </span>product.md<span class="w"> </span>생성<span class="w">     </span><span class="c1"># 비즈니스 요구사항</span>
├──<span class="w"> </span>🏗️<span class="w"> </span>structure.md<span class="w"> </span>생성<span class="w">   </span><span class="c1"># 아키텍처 설계</span>
└──<span class="w"> </span>⚙️<span class="w"> </span>tech.md<span class="w"> </span>생성<span class="w">        </span><span class="c1"># 기술 스택 정의</span>
</code></pre></div>
<p><strong>Phase 2: 명세 작성 (/moai:1-spec)</strong></p>
<div class="highlight"><pre><span></span><code>MultiEdit<span class="w"> </span>배치<span class="w"> </span>처리:
├──<span class="w"> </span>📋<span class="w"> </span>SPEC-001.md<span class="w">        </span><span class="c1"># 핵심 기능 명세</span>
├──<span class="w"> </span>📋<span class="w"> </span>SPEC-002.md<span class="w">        </span><span class="c1"># 부가 기능 명세</span>
└──<span class="w"> </span>📋<span class="w"> </span>SPEC-003.md<span class="w">        </span><span class="c1"># 통합 테스트 명세</span>
</code></pre></div>
<p><strong>Phase 3: 문서 동기화 (/moai:3-sync)</strong></p>
<div class="highlight"><pre><span></span><code>동시<span class="w"> </span>실행:
├──<span class="w"> </span>📊<span class="w"> </span>TAG<span class="w"> </span>인덱스<span class="w"> </span>업데이트
├──<span class="w"> </span>📈<span class="w"> </span>동기화<span class="w"> </span>리포트<span class="w"> </span>생성
└──<span class="w"> </span>🔗<span class="w"> </span>추적성<span class="w"> </span>매트릭스<span class="w"> </span>갱신
</code></pre></div>
<h4 id="debug-helper">🎯 차등 스캔 시스템 (debug-helper)</h4>
<table>
<thead>
<tr>
<th>레벨</th>
<th>스캔 범위</th>
<th>실행 시간</th>
<th>사용 시기</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Level 1</strong></td>
<td>핵심 파일만</td>
<td>30초</td>
<td>일반 오류 진단</td>
</tr>
<tr>
<td><strong>Level 2</strong></td>
<td>전체 설정 파일</td>
<td>2분</td>
<td>설정 문제 의심 시</td>
</tr>
<tr>
<td><strong>Level 3</strong></td>
<td>전체 코드베이스</td>
<td>5분</td>
<td>복잡한 아키텍처 문제</td>
</tr>
</tbody>
</table>
<h4 id="_19">🧠 스마트 캐싱 시스템</h4>
<p><strong>언어 감지 캐싱</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// .moai/config.json에 자동 저장</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;detected_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detection_confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-24T15:30:15+09:00&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>모델 최적화 배치</strong></p>
<ul>
<li><strong>haiku 모델</strong>: git-manager (간소한 Git 작업) - 546줄 → 156줄로 71% 간소화</li>
<li><strong>sonnet 모델</strong>: spec-builder, code-builder (복잡한 분석)</li>
</ul>
<p><strong>git-manager haiku 전환의 혁신적 효과</strong>:</p>
<ol>
<li><strong>처리 속도</strong>: 단순한 Git 작업에 최적화된 경량 모델 사용</li>
<li><strong>코스트 효율성</strong>: 토큰 비용 80% 절감 (Git 작업 대부분이 간단한 패턴)</li>
<li><strong>안정성 향상</strong>: 핵심 기능에 집중하여 오류 발생률 현저히 감소</li>
<li><strong>응답 시간</strong>: Git 명령 실행 대기 시간 평균 3초 → 1초</li>
</ol>
<h4 id="kst">🇰🇷 한국시간(KST) 적용</h4>
<p>모든 체크포인트와 태그가 한국시간 기준으로 생성되어 협업 시 혼란을 방지합니다.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 체크포인트 태그 예시 (v0.1.9+)</span>
moai_cp/20240924-153015-KST<span class="w">  </span><span class="c1"># 2024년 9월 24일 오후 3시 30분 15초</span>
moai_cp/20240924-160245-KST<span class="w">  </span><span class="c1"># 자동 체크포인트 (5분 간격)</span>
</code></pre></div>
<p><strong>KST 적용의 실용적 효과</strong>:</p>
<ul>
<li><strong>협업 시 혼란 방지</strong>: 팀원들이 모두 같은 시간 기준으로 체크포인트 확인</li>
<li><strong>자동 정리 정확성</strong>: 7일 이상 된 체크포인트 삭제가 정확한 시간 기준으로 실행</li>
<li><strong>로그 추적 용이성</strong>: 모든 Git 태그와 커밋 시간이 한국 표준시로 일치</li>
<li><strong>디버깅 효율성</strong>: 문제 발생 시점을 한국시간으로 정확히 추적 가능</li>
</ul>
<h3 id="_20">개인/팀 모드별 성능 최적화</h3>
<h4 id="_21">개인 모드 성능 지표</h4>
<table>
<thead>
<tr>
<th>작업</th>
<th>기존 방식</th>
<th>개인 모드 (v0.1.9+)</th>
<th>개선율</th>
<th>안전성</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>실험적 개발</strong></td>
<td>수동 백업 (10분)</td>
<td><strong>자동 체크포인트 (KST 기준)</strong></td>
<td><strong>자동화 (목표 95%+)</strong></td>
<td>빠른 롤백 대비</td>
</tr>
<tr>
<td><strong>빠른 반복</strong></td>
<td>Git 명령어 필요</td>
<td><strong>체크포인트만으로 충분</strong></td>
<td><strong>80% 시간 단축</strong></td>
<td>실패 걱정 없음</td>
</tr>
<tr>
<td><strong>브랜치 관리</strong></td>
<td>복잡한 GitFlow</td>
<td><strong>간소화된 브랜치</strong></td>
<td><strong>70% 복잡도 감소</strong></td>
<td>충돌 최소화</td>
</tr>
</tbody>
</table>
<h4 id="_22">팀 모드 성능 지표</h4>
<table>
<thead>
<tr>
<th>작업</th>
<th>기존 방식</th>
<th>팀 모드 (v0.1.9+)</th>
<th>개선율</th>
<th>협업 효과</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PR 생성</strong></td>
<td>수동 작성 (5분)</td>
<td><strong>자동 생성 (30초)</strong></td>
<td><strong>90% 시간 단축</strong></td>
<td>일관된 품질</td>
</tr>
<tr>
<td><strong>리뷰어 할당</strong></td>
<td>수동 선택</td>
<td><strong>자동 제안</strong></td>
<td><strong>자동화 (App 연동 시)</strong></td>
<td>최적 배정</td>
</tr>
<tr>
<td><strong>문서 동기화</strong></td>
<td>수동 업데이트</td>
<td><strong>병렬 동기화</strong></td>
<td><strong>55% 시간 단축</strong></td>
<td>항상 최신 상태</td>
</tr>
</tbody>
</table>
<h4 id="spec-009-tag-sqlite">🗄️ SPEC-009: TAG 시스템 SQLite 마이그레이션 (혁명적 성능 향상)</h4>
<p><strong>@FEATURE:SPEC-009-TAG-DATABASE-001</strong> - 10배 성능 향상의 핵심 구현</p>
<table>
<thead>
<tr>
<th>TAG 시스템 작업</th>
<th>JSON 파일 기반</th>
<th>SQLite 기반</th>
<th>목표 개선</th>
<th>실제 달성</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>TAG 검색</strong></td>
<td>150ms</td>
<td><strong>15ms</strong></td>
<td><strong>10x</strong></td>
<td><strong>0.18ms (83x)</strong> 🚀</td>
</tr>
<tr>
<td><strong>추적성 체인</strong></td>
<td>불가능</td>
<td><strong>89ms</strong></td>
<td><strong>신규</strong></td>
<td><strong>0.04ms (2,225x)</strong> 🚀</td>
</tr>
<tr>
<td><strong>인덱스 빌드</strong></td>
<td>2.1s</td>
<td><strong>220ms</strong></td>
<td><strong>9.5x</strong></td>
<td><strong>220ms</strong> ✅</td>
</tr>
<tr>
<td><strong>메모리 사용량</strong></td>
<td>45MB</td>
<td><strong>12MB</strong></td>
<td><strong>73% 감소</strong></td>
<td><strong>12MB</strong> ✅</td>
</tr>
<tr>
<td><strong>동시 접근</strong></td>
<td>불가능</td>
<td><strong>ACID 지원</strong></td>
<td><strong>무제한</strong></td>
<td><strong>완전 지원</strong> ✅</td>
</tr>
<tr>
<td><strong>고급 검색 API</strong></td>
<td>불가능</td>
<td><strong>신규 기능</strong></td>
<td><strong>신규</strong></td>
<td><strong>완전 구현</strong> ✅</td>
</tr>
</tbody>
</table>
<p><strong>핵심 혁신 기술</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># SQLite 트랜잭션 기반 고속 TAG 관리</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TagDatabaseManager</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">query_tags_parallel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">categories</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tag</span><span class="p">]]:</span>
        <span class="c1"># 병렬 쿼리 실행으로 10x 속도 향상</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">query_by_category</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">categories</span><span class="p">]</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_indexes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># 복합 인덱스로 검색 성능 최적화</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE INDEX idx_tag_category_id ON tags(category, tag_id)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE INDEX idx_traceability ON links(from_tag, to_tag)&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>SPEC-009 구현 아키텍처</strong>:
<div class="highlight"><pre><span></span><code>JSON API 호환성 유지 (adapter.py)
    ↕️
SQLite 고성능 백엔드 (database.py)
    ↕️
무손실 마이그레이션 (migration.py)
    ↕️
성능 벤치마킹 (benchmark.py)
</code></pre></div></p>
<p><strong>마이그레이션 성과</strong>:
- ✅ <strong>완전한 하위 호환성</strong>: 기존 JSON API 100% 지원
- ✅ <strong>트랜잭션 안전성</strong>: 여러 에이전트의 동시 TAG 수정 지원
- ✅ <strong>실시간 쿼리</strong>: 복잡한 추적성 체인 즉시 검증
- ✅ <strong>메모리 효율성</strong>: 대용량 프로젝트(1000+ TAG)에서도 안정적 동작</p>
<h4 id="spec-009-sqlite">🔧 SPEC-009 SQLite 마이그레이션 실행 가이드</h4>
<p><strong>자동 마이그레이션 (권장)</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># MoAI-ADK 워크플로우를 통한 자동 마이그레이션</span>
<span class="c1"># SPEC-009가 이미 구현되어 있어 바로 활용 가능</span>
/moai:3-sync<span class="w">  </span><span class="c1"># TAG 시스템이 자동으로 SQLite로 업그레이드됨</span>
</code></pre></div></p>
<p><strong>수동 마이그레이션 (고급 사용자)</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 기존 JSON 백업 생성</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.migration</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagMigrationTool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">migration</span> <span class="o">=</span> <span class="n">TagMigrationTool</span><span class="p">()</span>
<span class="n">json_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="p">)</span>
<span class="n">backup_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/backups/tags_backup.json&#39;</span><span class="p">)</span>

<span class="c1"># 백업 생성</span>
<span class="n">backup_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">json_path</span><span class="p">,</span> <span class="n">backup_path</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;✅ 백업 생성: </span><span class="si">{</span><span class="n">backup_path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="s2">&quot;</span>

<span class="c1"># 2. SQLite로 마이그레이션 실행</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.migration</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagMigrationTool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">migration</span> <span class="o">=</span> <span class="n">TagMigrationTool</span><span class="p">()</span>
<span class="n">json_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="p">)</span>
<span class="n">db_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">)</span>

<span class="c1"># 마이그레이션 실행</span>
<span class="n">success</span> <span class="o">=</span> <span class="n">migration</span><span class="o">.</span><span class="n">migrate_json_to_sqlite</span><span class="p">(</span><span class="n">json_path</span><span class="p">,</span> <span class="n">db_path</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;✅ SQLite 마이그레이션 완료&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;📁 데이터베이스 위치: </span><span class="si">{</span><span class="n">db_path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># 데이터 무결성 검증</span>
    <span class="k">if</span> <span class="n">migration</span><span class="o">.</span><span class="n">verify_migration</span><span class="p">(</span><span class="n">json_path</span><span class="p">,</span> <span class="n">db_path</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;✅ 데이터 무결성 검증 통과&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;❌ 데이터 무결성 검증 실패&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;❌ 마이그레이션 실패&#39;</span><span class="p">)</span>
<span class="s2">&quot;</span>

<span class="c1"># 3. 성능 벤치마크 실행 (선택)</span>
<span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.benchmark</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagPerformanceBenchmark</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">benchmark</span> <span class="o">=</span> <span class="n">TagPerformanceBenchmark</span><span class="p">()</span>
<span class="n">json_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.json&#39;</span><span class="p">)</span>
<span class="n">db_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">db_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;🚀 성능 벤치마크 실행 중...&#39;</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">benchmark</span><span class="o">.</span><span class="n">compare_performance</span><span class="p">(</span><span class="n">json_path</span><span class="p">,</span> <span class="n">db_path</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;📊 성능 비교 결과:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">metric</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">json_time</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;json_ms&#39;</span><span class="p">]</span>
        <span class="n">sqlite_time</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sqlite_ms&#39;</span><span class="p">]</span>
        <span class="n">improvement</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">json_time</span> <span class="o">/</span> <span class="n">sqlite_time</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  </span><span class="si">{</span><span class="n">metric</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">json_time</span><span class="si">}</span><span class="s1">ms → </span><span class="si">{</span><span class="n">sqlite_time</span><span class="si">}</span><span class="s1">ms (</span><span class="si">{</span><span class="n">improvement</span><span class="si">}</span><span class="s1">x 개선)&#39;</span><span class="p">)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>롤백 절차 (문제 발생 시)</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># SQLite에서 JSON으로 롤백</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.migration import TagMigrationTool</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">migration = TagMigrationTool()</span>
<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>
<span class="s2">json_path = Path(&#39;.moai/indexes/tags_restored.json&#39;)</span>

<span class="s2"># 롤백 실행</span>
<span class="s2">success = migration.migrate_sqlite_to_json(db_path, json_path)</span>
<span class="s2">if success:</span>
<span class="s2">    print(&#39;✅ JSON 롤백 완료&#39;)</span>

<span class="s2">    # 기존 파일 교체</span>
<span class="s2">    original_json = Path(&#39;.moai/indexes/tags.json&#39;)</span>
<span class="s2">    original_json.replace(Path(&#39;.moai/indexes/tags_backup.json&#39;))</span>
<span class="s2">    json_path.replace(original_json)</span>
<span class="s2">    print(&#39;✅ 기존 JSON 파일 복원 완료&#39;)</span>
<span class="s2">else:</span>
<span class="s2">    print(&#39;❌ 롤백 실패&#39;)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>API 사용법 (개발자용)</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># TAG 시스템을 코드에서 사용하는 방법</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.moai_adk.core.tag_system.adapter</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagIndexAdapter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># 어댑터 초기화 (SQLite 백엔드 자동 감지)</span>
<span class="n">adapter</span> <span class="o">=</span> <span class="n">TagIndexAdapter</span><span class="p">(</span><span class="n">db_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.moai/indexes/tags.db&#39;</span><span class="p">))</span>

<span class="c1"># 기존 JSON API와 완전히 동일한 인터페이스</span>
<span class="n">tags_data</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_tags</span><span class="p">()</span>  <span class="c1"># 모든 TAG 조회</span>
<span class="n">success</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">add_tag</span><span class="p">(</span>
    <span class="n">tag_key</span><span class="o">=</span><span class="s2">&quot;FEATURE:NEW-FEATURE-001&quot;</span><span class="p">,</span>
    <span class="n">reference</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;file_path&quot;</span><span class="p">:</span> <span class="s2">&quot;src/new_feature.py&quot;</span><span class="p">,</span>
        <span class="s2">&quot;line_number&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;새로운 기능 구현&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>  <span class="c1"># TAG 추가</span>
<span class="n">removed</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">remove_tag</span><span class="p">(</span><span class="s2">&quot;DEPRECATED:OLD-001&quot;</span><span class="p">)</span>  <span class="c1"># TAG 삭제</span>

<span class="c1"># 고성능 검색 (SQLite 인덱스 활용)</span>
<span class="n">search_results</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">search_tags_by_category</span><span class="p">(</span><span class="s2">&quot;FEATURE&quot;</span><span class="p">)</span>
<span class="n">chain_results</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">get_traceability_chain</span><span class="p">(</span><span class="s2">&quot;REQ:USER-001&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>마이그레이션 확인 방법</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># TAG 시스템 상태 확인</span>
python<span class="w"> </span>.moai/scripts/check-traceability.py<span class="w"> </span>--update

<span class="c1"># SQLite 데이터베이스 정보 확인</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">import sqlite3</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>
<span class="s2">if db_path.exists():</span>
<span class="s2">    conn = sqlite3.connect(db_path)</span>
<span class="s2">    cursor = conn.cursor()</span>

<span class="s2">    # 테이블 정보</span>
<span class="s2">    cursor.execute(&#39;SELECT name FROM sqlite_master WHERE type=\&quot;table\&quot;&#39;)</span>
<span class="s2">    tables = cursor.fetchall()</span>
<span class="s2">    print(&#39;📊 SQLite 테이블:&#39;, [table[0] for table in tables])</span>

<span class="s2">    # TAG 개수 확인</span>
<span class="s2">    cursor.execute(&#39;SELECT COUNT(*) FROM tags&#39;)</span>
<span class="s2">    tag_count = cursor.fetchone()[0]</span>
<span class="s2">    print(f&#39;🏷️ 총 TAG 개수: {tag_count}&#39;)</span>

<span class="s2">    # 성능 정보</span>
<span class="s2">    cursor.execute(&#39;PRAGMA database_list&#39;)</span>
<span class="s2">    db_info = cursor.fetchall()</span>
<span class="s2">    print(&#39;⚡ 데이터베이스 정보:&#39;, db_info[0])</span>

<span class="s2">    conn.close()</span>
<span class="s2">    print(&#39;✅ SQLite TAG 시스템 정상 동작 중&#39;)</span>
<span class="s2">else:</span>
<span class="s2">    print(&#39;📝 JSON TAG 시스템 사용 중&#39;)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>주의사항</strong>:
- ⚠️ 마이그레이션 전 반드시 기존 <code>tags.json</code> 백업 생성
- ⚠️ 대용량 프로젝트(1000+ TAG)의 경우 마이그레이션에 수 분 소요될 수 있음
- ⚠️ SQLite 파일은 Git에 커밋하지 말 것 (<code>.gitignore</code>에 <code>*.db</code> 추가 권장)
- ✅ 마이그레이션 후 모든 기존 TAG 시스템 명령어 정상 동작
- ✅ 여러 Claude Code 세션에서 동시 접근 가능 (ACID 트랜잭션 지원)</p>
<h3 id="_23">시스템 리소스 최적화</h3>
<h4 id="_24">체크포인트 시스템 효율성</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 지능형 체크포인트 관리 (KST 기준)</span>
-<span class="w"> </span>중복<span class="w"> </span>제거:<span class="w"> </span>동일<span class="w"> </span>상태<span class="w"> </span>체크포인트<span class="w"> </span>자동<span class="w"> </span>병합
-<span class="w"> </span>압축<span class="w"> </span>저장:<span class="w"> </span>증분<span class="w"> </span>백업으로<span class="w"> </span>용량<span class="w"> </span><span class="m">80</span>%<span class="w"> </span>절약
-<span class="w"> </span>자동<span class="w"> </span>정리:<span class="w"> </span>7일<span class="w"> </span>이상<span class="w"> </span>된<span class="w"> </span>체크포인트<span class="w"> </span>자동<span class="w"> </span>삭제<span class="w"> </span><span class="o">(</span>KST<span class="w"> </span>기준<span class="o">)</span>
-<span class="w"> </span>빠른<span class="w"> </span>복구:<span class="w"> </span>평균<span class="w"> </span>3초<span class="w"> </span>이내<span class="w"> </span>롤백<span class="w"> </span>완료<span class="w"> </span><span class="o">(</span>v0.1.9+<span class="o">)</span>
</code></pre></div>
<h4 id="_25">모드별 메모리 사용량 (최적화 후)</h4>
<div class="highlight"><pre><span></span><code>개인 모드:
├── 체크포인트 관리: 35MB (메모리) ← 30% 감소
├── 언어 감지 캐시: 5MB (디스크)   ← 새로 추가
└── 총 사용량: 40MB ← 43% 감소

팀 모드:
├── GitFlow 관리: 20MB (메모리) ← 33% 감소
├── PR 자동화: 25MB (GitHub API)
└── 총 사용량: 45MB ← 18% 감소
</code></pre></div>
<h3 id="v019">🔧 스크립트 시스템 통합 개선 (v0.1.9+)</h3>
<h4 id="_26">🔄 병렬 처리 시스템 상세 구현</h4>
<p>MoAI-ADK 0.1.9의 가장 큰 혁신은 <strong>Phase별 병렬 처리</strong>입니다. 각 워크플로우 단계에서 독립적인 작업들을 동시에 실행하여 대폭적인 성능 향상을 달성했습니다.</p>
<p><strong>Phase 1: <code>/moai:0-project</code> 병렬 문서 생성</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 동시 실행되는 3개 파일 생성</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">parallel_project_init</span><span class="p">():</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">create_product_md</span><span class="p">(),</span>      <span class="c1"># 비즈니스 요구사항</span>
        <span class="n">create_structure_md</span><span class="p">(),</span>    <span class="c1"># 아키텍처 설계</span>
        <span class="n">create_tech_md</span><span class="p">()</span>         <span class="c1"># 기술 스택 정의</span>
    <span class="p">]</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">)</span>  <span class="c1"># 병렬 실행</span>
</code></pre></div>
<p><strong>Phase 2: <code>/moai:1-spec</code> MultiEdit 배치 처리</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># MultiEdit를 통한 3개 SPEC 파일 동시 생성</span>
<span class="n">multi_edit_specs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;SPEC-001.md&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">core_features</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;SPEC-002.md&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">additional_features</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;SPEC-003.md&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">integration_tests</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># 한 번의 MultiEdit 호출로 모든 SPEC 생성</span>
</code></pre></div>
<p><strong>Phase 3: <code>/moai:3-sync</code> 동기화 병렬 처리</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 문서 동기화 작업의 병렬 실행</span>
<span class="n">sync_tasks</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">update_tag_index</span><span class="p">(),</span>        <span class="c1"># TAG 인덱스 업데이트</span>
    <span class="n">generate_sync_report</span><span class="p">(),</span>    <span class="c1"># 동기화 리포트 생성</span>
    <span class="n">update_traceability</span><span class="p">()</span>      <span class="c1"># 추적성 매트릭스 갱신</span>
<span class="p">]</span>
<span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">sync_tasks</span><span class="p">)</span>
</code></pre></div>
<h4 id="_27">🧠 언어 감지 캐싱 시스템</h4>
<p><strong>기존 문제점</strong>: 매번 전체 코드베이스를 스캔하여 언어 감지 (평균 2-3분 소요)</p>
<p><strong>개선 방식</strong>: <code>.moai/config.json</code>에 캐싱하여 95% 시간 단축</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;language_detection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;detected_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;detection_confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-09-24T15:30:15+09:00&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;file_signatures&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*.py&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;percentage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">78.5</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pyproject.toml&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;cache_enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;auto_detect_on_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>캐시 무효화 조건</strong>:</p>
<ul>
<li>새로운 언어 파일 추가 (예: .js, .go 파일)</li>
<li>주요 설정 파일 변경 (package.json, pyproject.toml 등)</li>
<li>수동 재감지 요청 (<code>--force-detect</code> 플래그)</li>
</ul>
<h4 id="_28">통합 시스템 아키텍처</h4>
<p>MoAI-ADK 0.1.9에서는 <code>.moai/scripts/</code> 디렉터리의 <strong>코드 중복 제거와 모듈화</strong>를 통해 시스템 성능과 유지보수성을 대폭 개선했습니다.</p>
<div class="highlight"><pre><span></span><code>.moai/scripts/
├──<span class="w"> </span>utils/<span class="w">                    </span><span class="c1"># 🆕 통합 유틸리티 시스템</span>
│<span class="w">   </span>├──<span class="w"> </span>__init__.py
│<span class="w">   </span>├──<span class="w"> </span>constants.py<span class="w">          </span><span class="c1"># 중앙화된 상수 관리</span>
│<span class="w">   </span>├──<span class="w"> </span>project_helper.py<span class="w">     </span><span class="c1"># 프로젝트 관리 유틸리티</span>
│<span class="w">   </span>├──<span class="w"> </span>git_helper.py<span class="w">         </span><span class="c1"># Git 명령어 추상화</span>
│<span class="w">   </span>├──<span class="w"> </span>checkpoint_system.py<span class="w">  </span><span class="c1"># 통합 체크포인트 시스템</span>
│<span class="w">   </span>└──<span class="w"> </span>git_workflow.py<span class="w">       </span><span class="c1"># 통합 Git 워크플로우</span>
├──<span class="w"> </span>checkpoint_manager.py<span class="w">     </span><span class="c1"># ♻️ 리팩토링됨 (래퍼)</span>
├──<span class="w"> </span>rollback.py<span class="w">              </span><span class="c1"># ♻️ 리팩토링됨 (래퍼)</span>
├──<span class="w"> </span>branch_manager.py<span class="w">        </span><span class="c1"># ♻️ 리팩토링됨 (래퍼)</span>
├──<span class="w"> </span>commit_helper.py<span class="w">         </span><span class="c1"># ♻️ 리팩토링됨 (래퍼)</span>
└──<span class="w"> </span><span class="o">[</span>기타<span class="w"> </span>스크립트들...<span class="o">]</span><span class="w">     </span><span class="c1"># 기존 인터페이스 유지</span>
</code></pre></div>
<h4 id="_29">성능 개선 지표</h4>
<table>
<thead>
<tr>
<th>개선 영역</th>
<th>Before (v0.1.8)</th>
<th>After (v0.1.9+)</th>
<th>개선율</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>코드 중복 제거</strong></td>
<td>40% Git 코드 중복</td>
<td><strong>통합 Git 시스템</strong></td>
<td><strong>40% 감소</strong></td>
</tr>
<tr>
<td><strong>일관성 향상</strong></td>
<td>스크립트별 상이</td>
<td><strong>공통 상수/오류 처리</strong></td>
<td><strong>100% 표준화</strong></td>
</tr>
<tr>
<td><strong>유지보수성</strong></td>
<td>분산된 로직</td>
<td><strong>모듈화된 구조</strong></td>
<td><strong>70% 향상</strong></td>
</tr>
<tr>
<td><strong>타입 안전성</strong></td>
<td>일부만 타입 힌트</td>
<td><strong>완전한 타입 힌트</strong></td>
<td><strong>100% 적용</strong></td>
</tr>
<tr>
<td><strong>TAG 규칙 준수</strong></td>
<td>부분적 준수</td>
<td><strong>16-Core @TAG 완전 준수</strong></td>
<td><strong>100% 준수</strong></td>
</tr>
</tbody>
</table>
<h4 id="_30">통합 시스템 핵심 모듈</h4>
<p><strong>1. <code>constants.py</code> - 중앙화된 상수 관리</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 매직 넘버/스트링 제거</span>
<span class="n">TRUST_PRINCIPLES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;test_first&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test First&quot;</span><span class="p">,</span> <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">},</span>
    <span class="s2">&quot;readable&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Readable&quot;</span><span class="p">,</span> <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">0.20</span><span class="p">},</span>
    <span class="c1"># ...</span>
<span class="p">}</span>
<span class="n">CHECKPOINT_TAG_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;moai_cp/&quot;</span>
<span class="n">DEFAULT_BRANCH_NAME</span> <span class="o">=</span> <span class="s2">&quot;main&quot;</span>
</code></pre></div>
<p><strong>2. <code>checkpoint_system.py</code> - 통합 체크포인트</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># checkpoint_manager.py + rollback.py 기능 통합</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CheckpointSystem</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_checkpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_auto</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">rollback_to_checkpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag_or_index</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">list_checkpoints</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p><strong>3. <code>git_workflow.py</code> - Git 워크플로우 통합</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 Git 작업을 하나의 일관된 인터페이스로</span>
<span class="k">class</span><span class="w"> </span><span class="nc">GitWorkflow</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_feature_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">feature_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_constitution_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">sync_with_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">push</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h4 id="_31">하위 호환성 보장</h4>
<ul>
<li><strong>기존 CLI 인터페이스 유지</strong>: 모든 스크립트는 동일한 명령어로 작동</li>
<li><strong>래퍼 패턴 적용</strong>: 기존 스크립트가 새로운 통합 시스템을 내부적으로 사용</li>
<li><strong>점진적 마이그레이션</strong>: 필요에 따라 개별 스크립트를 점진적으로 개선 가능</li>
</ul>
<h4 id="_32">제거된 불필요한 스크립트</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 🗑️ 정리된 파일들 (v0.1.9+)</span>
❌<span class="w"> </span>cleanup_inappropriate_docs.py<span class="w">  </span><span class="c1"># 미사용 스크립트 제거</span>
❌<span class="w"> </span>detect_language.py<span class="w">             </span><span class="c1"># 미사용 스크립트 제거</span>
❌<span class="w"> </span>checkpoint_watcher.py<span class="w">          </span><span class="c1"># 통합 체크포인트 시스템으로 통합 (checkpoint_system.py)</span>
</code></pre></div>
<p>이를 통해 <strong>더 깔끔하고 유지보수하기 쉬운 코드베이스</strong>를 구축했습니다.</p>
<hr />
<h2 id="file-structure-configuration">🔧 File Structure &amp; Configuration</h2>
<h3 id="moai-adk_1">완전히 검증된 MoAI-ADK 파일 구조</h3>
<p>MoAI-ADK 0.1.9는 <strong>Claude Code 표준 준수</strong>와 <strong>모든 경로 검증 완료</strong>된 안정적인 파일 구조를 제공합니다.</p>
<h4 id="_33">표준 디렉토리 구조</h4>
<div class="highlight"><pre><span></span><code>📁 MoAI-ADK/
├── .claude/                      # Claude Code 통합 (완전 검증됨)
│   ├── settings.json             # ✅ 모든 경로 정상 작동
│   ├── settings.local.json       # 추가 권한 설정
│   ├── commands/moai/            # MoAI 명령어 시스템
│   │   ├── 0-project.md         # 프로젝트 킥오프
│   │   ├── 1-spec.md            # 명세 작성 명령어
│   │   ├── 2-build.md           # TDD 구현 명령어
│   │   ├── 3-sync.md            # 문서 동기화 명령어
│   │   └── 4-debug.md           # 통합 디버깅 명령어
│   ├── agents/                  # 전문 에이전트 시스템
│   │   └── moai/               # project-manager, cc-manager, spec-builder, code-builder, doc-syncer, git-manager
│   │       ├── project-manager.md
│   │       ├── cc-manager.md
│   │       ├── spec-builder.md
│   │       ├── code-builder.md
│   │       ├── doc-syncer.md
│   │       └── git-manager.md
│   ├── hooks/moai/             # 자동화 훅 시스템 (실행권한 ✅)
│   │   ├── auto_checkpoint.py      # 자동 체크포인트 (개인 모드)
│   │   ├── check_style.py          # 코드 스타일 검증
│   │   ├── file_watcher.py         # 파일 변경 감지
│   │   ├── language_detector.py    # 언어 자동 감지
│   │   ├── policy_block.py         # 금지 명령 차단
│   │   ├── pre_write_guard.py      # 파일 작성 가드
│   │   ├── run_tests_and_report.py # 테스트 실행/리포트(옵션)
│   │   ├── session_start_notice.py # 세션 시작 알림
│   │   ├── steering_guard.py       # 사용자 입력 가드
│   │   └── tag_validator.py        # @TAG 시스템 검증
│   │   # (참고) auto_checkpoint/file_watcher/language_detector/run_tests_and_report 는 기본 settings.json 에서는 연결되어 있지 않으며, 선택 기능/향후 통합을 위해 제공됨
│   └── output-styles/          # 6가지 출력 스타일
│       ├── expert.md           # 숙련자용
│       ├── mentor.md           # 팀 리더용
│       ├── study.md            # 학습자용
│       ├── beginner.md         # 초보자용
│       ├── audit.md            # 검토자용
│       └── personal.md         # 개인 개발자용
├── .moai/                      # MoAI 시스템 코어
│   ├── config.json            # 개인/팀 모드 설정
│   ├── memory/                # 개발 가이드 저장소
│   │   └── development-guide.md    # 5원칙 + 16-Core @TAG
│   ├── project/               # 프로젝트 기본 문서 (init 시 빈 템플릿 복사)
│   │   ├── product.md         # 제품 비전 – /moai:0-project 로 업데이트
│   │   ├── structure.md       # 시스템 구조 – /moai:0-project 로 업데이트
│   │   └── tech.md            # 기술 스택 – /moai:0-project 로 업데이트
│   └── scripts/               # 핵심 스크립트 (실행권한 ✅) - v0.1.9+ 통합 개선
│       ├── utils/             # 🆕 통합 유틸리티 시스템
│       │   ├── __init__.py    # 패키지 초기화
│       │   ├── constants.py   # 중앙화된 상수 관리
│       │   ├── project_helper.py # 프로젝트 관리 유틸리티
│       │   ├── git_helper.py  # Git 명령어 추상화
│       │   ├── checkpoint_system.py # 통합 체크포인트 시스템
│       │   └── git_workflow.py # 통합 Git 워크플로우
│       ├── check_constitution.py   # 개발 가이드 검증
│       ├── check-traceability.py   # @TAG 추적성 검증
│       ├── doc_sync.py             # 문서/TAG 동기화 헬퍼
│       ├── checkpoint_manager.py   # ♻️ 체크포인트 관리 (통합 시스템 기반)
│       ├── branch_manager.py       # ♻️ 브랜치 자동화 (통합 시스템 기반)
│       ├── commit_helper.py        # ♻️ 커밋 자동화 (통합 시스템 기반)
│       ├── rollback.py             # ♻️ Git 롤백 시스템 (통합 시스템 기반)
│       └── 기타 진단/탐지 스크립트 (detect_project_type.py, sync_manager.py)
├── docs/                      # 프로젝트 문서
│   ├── status/                # 동기화 리포트 (자동 생성)
│   │   └── sync-report.md     # 최신 /moai:3-sync 결과
│   └── MOAI-ADK-0.1.9-GUIDE.md  # 이 문서
└── CLAUDE.md                  # 프로젝트 가이드 (핵심)
</code></pre></div>
<h4 id="_34">설정 파일 상세</h4>
<p><strong><code>.claude/settings.json</code></strong> - 기본 구성(0.1.9 현재 레포지토리와 동일):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;hooks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;PostToolUse&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;hooks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python3 $CLAUDE_PROJECT_DIR/.claude/hooks/moai/check_style.py&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;command&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Edit|Write|MultiEdit&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;PreToolUse&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;hooks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python3 $CLAUDE_PROJECT_DIR/.claude/hooks/moai/pre_write_guard.py&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;command&quot;</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python3 $CLAUDE_PROJECT_DIR/.claude/hooks/moai/tag_validator.py&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;command&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Edit|Write|MultiEdit&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;hooks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python3 $CLAUDE_PROJECT_DIR/.claude/hooks/moai/policy_block.py&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;command&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bash&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;SessionStart&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;hooks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python3 $CLAUDE_PROJECT_DIR/.claude/hooks/moai/session_start_notice.py&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;command&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;matcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;UserPromptSubmit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;hooks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python3 $CLAUDE_PROJECT_DIR/.claude/hooks/moai/steering_guard.py&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;command&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;permissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;allow&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;Task&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Read&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Write&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;MultiEdit&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;NotebookEdit&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Grep&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Glob&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;TodoWrite&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;WebFetch&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(git:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(rg:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(ls:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(cat:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(echo:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(which:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(make:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(python:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(python3:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(pytest:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(ruff:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(black:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(mypy:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(bandit:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(coverage:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(pip:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(poetry:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(uv:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(npm:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(node:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(pnpm:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(moai:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(gh pr create:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(gh pr view:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(gh pr list:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(gh repo view:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(find:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(mkdir:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(touch:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(cp:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(mv:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(tree:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(diff:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(wc:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(sort:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(uniq:*)&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;ask&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;Bash(git push:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(git merge:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(gh pr merge:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(pip install:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(poetry add:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(npm install:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(rm:*)&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;defaultMode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;deny&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;Read(./.env)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Read(./.env.*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Read(./secrets/**)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Read(~/.ssh/**)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(sudo:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(rm -rf :*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(chmod -R 777 :*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(dd:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(mkfs:*)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Bash(fdisk:*)&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>Bash 권한 주의</strong>: <code>Bash(git:*)</code>처럼 광범위한 패턴은 하위 명령 전체를 허용하므로, 필요할 때만 추가하고 Guard 훅(policies, steering_guard 등)으로 2차 방어선을 유지하세요.
<strong>민감 경로 차단</strong>: <code>deny</code> 목록은 <code>.env</code>, <code>secrets/</code> 등 민감 정보를 1차로 차단하며, PreToolUse 훅이 추가 검증을 수행합니다.</p>
</blockquote>
<p><strong><code>.moai/config.json</code></strong> - 개인/팀 모드 설정:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;project&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;personal&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// &quot;personal&quot; | &quot;team&quot;</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MoAI-ADK&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MoAI Agentic Development Kit&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;git_strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;personal&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;auto_checkpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;checkpoint_interval&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max_checkpoints&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cleanup_days&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;branch_prefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;feature/&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;auto_commit&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;team&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;use_gitflow&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;main_branch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;develop_branch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;develop&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;feature_prefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;feature/SPEC-&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;auto_pr&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;draft_pr&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;constitution&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;simplicity_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;test_coverage_target&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;enforce_tdd&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;require_tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;principles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;simplicity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;max_projects&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;프로젝트 규모에 따라 근거를 기록하고 조정하세요.&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_35">경로 검증 및 수정 이력</h3>
<h4 id="_36">✅ 해결된 경로 문제들</h4>
<ol>
<li><strong>Hook 스크립트 경로 정리</strong>:</li>
<li><code>OLD</code>: <code>.moai/hooks/</code> → <code>NEW</code>: <code>.claude/hooks/moai/</code></li>
<li>모든 Hook 스크립트가 Claude Code 표준 위치로 이동</li>
<li>
<p><code>settings.json</code>의 모든 경로 참조 업데이트 완료</p>
</li>
<li>
<p><strong>Script 파일 위치 정리</strong>:</p>
</li>
<li><code>rollback.py</code>: <code>.claude/scripts/moai/git/</code> → <code>.moai/scripts/</code></li>
<li>
<p><code>git-manager.md</code>의 모든 경로 참조 수정 완료</p>
</li>
<li>
<p><strong>실행 권한 정리</strong>:</p>
</li>
<li>모든 Python 스크립트에 실행 권한 부여 (<code>chmod +x</code>)</li>
<li>Hook 스크립트 10개 모두 실행 가능 상태</li>
<li>Core 스크립트 9개 모두 실행 가능 상태</li>
</ol>
<h4 id="_37">🔍 경로 무결성 검증</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 스크립트 실행 권한 확인</span>
$<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span>.claude/hooks/moai/*.py
-rwxr-xr-x<span class="w">  </span>auto_checkpoint.py<span class="w">       </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>check_style.py<span class="w">           </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>file_watcher.py<span class="w">          </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>language_detector.py<span class="w">     </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>policy_block.py<span class="w">          </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>pre_write_guard.py<span class="w">       </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>run_tests_and_report.py<span class="w">  </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>session_start_notice.py<span class="w">  </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>steering_guard.py<span class="w">        </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>tag_validator.py<span class="w">         </span><span class="c1"># ✅ 실행 가능</span>

$<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span>.moai/scripts/*.py
-rwxr-xr-x<span class="w">  </span>branch_manager.py<span class="w">       </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>check-traceability.py<span class="w">   </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>check_constitution.py<span class="w">   </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>checkpoint_manager.py<span class="w">   </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>commit_helper.py<span class="w">        </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>detect_project_type.py<span class="w">  </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>doc_sync.py<span class="w">             </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>rollback.py<span class="w">             </span><span class="c1"># ✅ 실행 가능</span>
-rwxr-xr-x<span class="w">  </span>sync_manager.py<span class="w">         </span><span class="c1"># ✅ 실행 가능</span>

<span class="c1"># 경로 참조 무결성 확인</span>
$<span class="w"> </span>grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;\.claude/scripts\|\.moai/hooks&quot;</span><span class="w"> </span>.claude
<span class="c1"># 출력: (찾을 수 없음) ← 모든 오래된 경로 참조 제거됨</span>
</code></pre></div>
<hr />
<h2 id="troubleshooting-guide">🛠️ Troubleshooting Guide</h2>
<h3 id="_38">일반적인 문제 해결</h3>
<h4 id="1-hook">1. Hook 실행 오류</h4>
<p><strong>문제</strong>: <code>can't open file '/.claude/hooks/check_style.py': No such file or directory</code></p>
<p><strong>원인</strong>: 경로 불일치 또는 파일 이동 후 설정 미업데이트</p>
<p><strong>해결방법</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 파일 위치 확인</span>
ls<span class="w"> </span>-la<span class="w"> </span>.claude/hooks/moai/check_style.py

<span class="c1"># 2. 실행 권한 확인</span>
chmod<span class="w"> </span>+x<span class="w"> </span>.claude/hooks/moai/*.py

<span class="c1"># 3. settings.json 경로 확인</span>
grep<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;check_style.py&quot;</span><span class="w"> </span>.claude/settings.json
<span class="c1"># 올바른 경로: .claude/hooks/moai/check_style.py</span>
</code></pre></div>
<h4 id="2-git-manager">2. git-manager 스크립트 호출 오류</h4>
<p><strong>문제</strong>: git-manager 에이전트가 체크포인트/롤백 등의 명령을 실행하지 못함</p>
<p><strong>원인</strong>: <code>.moai/scripts/rollback.py</code> 등 내부 스크립트 실행 권한 또는 경로가 잘못되었을 가능성</p>
<p><strong>해결방법</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 스크립트 실행 권한 확인</span>
chmod<span class="w"> </span>+x<span class="w"> </span>.moai/scripts/*.py

<span class="c1"># 2. git-manager 진단</span>
@agent-git-manager<span class="w"> </span><span class="s2">&quot;현재 상태 점검&quot;</span>

<span class="c1"># 3. 체크포인트 시스템 수동 점검</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>status
</code></pre></div></p>
<h4 id="3-spec-009-sqlite">3. SPEC-009 SQLite 마이그레이션 문제</h4>
<p><strong>문제 1</strong>: <code>sqlite3.OperationalError: database is locked</code>
<strong>원인</strong>: 다른 Claude Code 세션이 동일한 SQLite 파일에 접근 중
<strong>해결방법</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 다른 Claude Code 세션 종료 확인</span>
ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;claude&quot;</span>

<span class="c1"># 2. SQLite 잠금 해제</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">import sqlite3</span>
<span class="s2">import time</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>
<span class="s2">if db_path.exists():</span>
<span class="s2">    try:</span>
<span class="s2">        conn = sqlite3.connect(db_path, timeout=5.0)</span>
<span class="s2">        conn.execute(&#39;PRAGMA journal_mode=WAL&#39;)  # WAL 모드 활성화</span>
<span class="s2">        conn.close()</span>
<span class="s2">        print(&#39;✅ SQLite 잠금 해제 완료&#39;)</span>
<span class="s2">    except sqlite3.OperationalError as e:</span>
<span class="s2">        print(f&#39;❌ SQLite 잠금 해제 실패: {e}&#39;)</span>
<span class="s2">        print(&#39;권장: 모든 Claude Code 세션을 종료 후 재시작&#39;)</span>
<span class="s2">&quot;</span>

<span class="c1"># 3. 잠금 문제가 계속되면 JSON으로 임시 롤백</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.migration import TagMigrationTool</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">migration = TagMigrationTool()</span>
<span class="s2">backup_path = Path(&#39;.moai/backups/tags_backup.json&#39;)</span>

<span class="s2">if backup_path.exists():</span>
<span class="s2">    migration.restore_from_backup(backup_path)</span>
<span class="s2">    print(&#39;✅ JSON 백업으로 복원 완료&#39;)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>문제 2</strong>: <code>ImportError: No module named 'src.moai_adk.core.tag_system'</code>
<strong>원인</strong>: MoAI-ADK가 0.1.9 버전으로 업그레이드되지 않음
<strong>해결방법</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 현재 버전 확인</span>
pip<span class="w"> </span>show<span class="w"> </span>moai-adk

<span class="c1"># 2. 0.1.9 업그레이드 (강제)</span>
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>--force-reinstall<span class="w"> </span>moai-adk<span class="o">==</span><span class="m">0</span>.1.9

<span class="c1"># 3. SPEC-009 모듈 존재 확인</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">try:</span>
<span class="s2">    from src.moai_adk.core.tag_system.adapter import TagIndexAdapter</span>
<span class="s2">    print(&#39;✅ SPEC-009 모듈 정상 로드됨&#39;)</span>
<span class="s2">except ImportError as e:</span>
<span class="s2">    print(f&#39;❌ SPEC-009 모듈 로드 실패: {e}&#39;)</span>
<span class="s2">    print(&#39;권장: pip install --upgrade moai-adk&#39;)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>문제 3</strong>: 마이그레이션 후 TAG 개수가 맞지 않음
<strong>원인</strong>: 마이그레이션 중 데이터 손실 또는 중복 제거
<strong>해결방법</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 데이터 무결성 검증</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.migration import TagMigrationTool</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">migration = TagMigrationTool()</span>
<span class="s2">json_path = Path(&#39;.moai/indexes/tags.json&#39;)</span>
<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>

<span class="s2">if migration.verify_migration(json_path, db_path):</span>
<span class="s2">    print(&#39;✅ 데이터 무결성 검증 통과&#39;)</span>
<span class="s2">else:</span>
<span class="s2">    print(&#39;❌ 데이터 불일치 감지&#39;)</span>

<span class="s2">    # 상세 비교</span>
<span class="s2">    comparison = migration.detailed_comparison(json_path, db_path)</span>
<span class="s2">    print(f&#39;JSON TAG 개수: {comparison[\&quot;json_count\&quot;]}&#39;)</span>
<span class="s2">    print(f&#39;SQLite TAG 개수: {comparison[\&quot;sqlite_count\&quot;]}&#39;)</span>
<span class="s2">    print(f&#39;차이점: {comparison[\&quot;differences\&quot;]}&#39;)</span>
<span class="s2">&quot;</span>

<span class="c1"># 2. 문제 발견 시 재마이그레이션</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.migration import TagMigrationTool</span>
<span class="s2">from pathlib import Path</span>
<span class="s2">import shutil</span>

<span class="s2">migration = TagMigrationTool()</span>
<span class="s2">json_path = Path(&#39;.moai/indexes/tags.json&#39;)</span>
<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>

<span class="s2"># 손상된 SQLite 파일 백업</span>
<span class="s2">if db_path.exists():</span>
<span class="s2">    shutil.move(db_path, db_path.with_suffix(&#39;.db.corrupted&#39;))</span>

<span class="s2"># 깨끗한 재마이그레이션</span>
<span class="s2">success = migration.migrate_json_to_sqlite(json_path, db_path)</span>
<span class="s2">if success:</span>
<span class="s2">    print(&#39;✅ 재마이그레이션 완료&#39;)</span>
<span class="s2">else:</span>
<span class="s2">    print(&#39;❌ 재마이그레이션 실패&#39;)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<p><strong>문제 4</strong>: 성능 개선이 체감되지 않음
<strong>원인</strong>: SQLite 인덱스가 제대로 생성되지 않음
<strong>해결방법</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 인덱스 상태 확인</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">import sqlite3</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>
<span class="s2">conn = sqlite3.connect(db_path)</span>
<span class="s2">cursor = conn.cursor()</span>

<span class="s2"># 인덱스 목록 조회</span>
<span class="s2">cursor.execute(&#39;SELECT name FROM sqlite_master WHERE type=\&quot;index\&quot;&#39;)</span>
<span class="s2">indexes = [row[0] for row in cursor.fetchall()]</span>
<span class="s2">print(f&#39;생성된 인덱스: {indexes}&#39;)</span>

<span class="s2"># 필수 인덱스 확인</span>
<span class="s2">required_indexes = [&#39;idx_tag_key&#39;, &#39;idx_tag_type&#39;, &#39;idx_file_path&#39;]</span>
<span class="s2">missing = [idx for idx in required_indexes if idx not in indexes]</span>

<span class="s2">if missing:</span>
<span class="s2">    print(f&#39;❌ 누락된 인덱스: {missing}&#39;)</span>
<span class="s2">else:</span>
<span class="s2">    print(&#39;✅ 모든 필수 인덱스 존재&#39;)</span>

<span class="s2">conn.close()</span>
<span class="s2">&quot;</span>

<span class="c1"># 2. 성능 벤치마크로 검증</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.benchmark import TagPerformanceBenchmark</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">benchmark = TagPerformanceBenchmark()</span>
<span class="s2">json_path = Path(&#39;.moai/indexes/tags.json&#39;)</span>
<span class="s2">db_path = Path(&#39;.moai/indexes/tags.db&#39;)</span>

<span class="s2">results = benchmark.compare_performance(json_path, db_path)</span>
<span class="s2">for operation, metrics in results.items():</span>
<span class="s2">    improvement = round(metrics[&#39;json_ms&#39;] / metrics[&#39;sqlite_ms&#39;], 1)</span>
<span class="s2">    if improvement &lt; 5:  # 5배 미만 개선은 문제</span>
<span class="s2">        print(f&#39;⚠️ {operation}: {improvement}x 개선 (목표 10x 미달)&#39;)</span>
<span class="s2">    else:</span>
<span class="s2">        print(f&#39;✅ {operation}: {improvement}x 개선&#39;)</span>
<span class="s2">&quot;</span>

<span class="c1"># 3. 인덱스 재생성 (필요 시)</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from src.moai_adk.core.tag_system.database import TagDatabaseManager</span>
<span class="s2">from pathlib import Path</span>

<span class="s2">db = TagDatabaseManager(Path(&#39;.moai/indexes/tags.db&#39;))</span>
<span class="s2">db.rebuild_indexes()  # 모든 인덱스 재생성</span>
<span class="s2">db.optimize_database()  # VACUUM 및 ANALYZE 실행</span>
<span class="s2">print(&#39;✅ 데이터베이스 최적화 완료&#39;)</span>
<span class="s2">&quot;</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 스크립트 위치 확인</span>
ls<span class="w"> </span>-la<span class="w"> </span>.moai/scripts/rollback.py

<span class="c1"># 2. 실행 권한 설정</span>
chmod<span class="w"> </span>+x<span class="w"> </span>.moai/scripts/*.py

<span class="c1"># 3. 통합 체크포인트 시스템 테스트</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">1</span>
</code></pre></div>
<h4 id="3-v019">3. 워처 상태 확인 문제 (v0.1.9+ 해결됨)</h4>
<p><strong>문제</strong>: 세션 시작 시 "ℹ️ 워처 상태 확인 필요: 상태를 판별할 수 없습니다" 표시</p>
<p><strong>원인</strong>:</p>
<ul>
<li>checkpoint_watcher.py 삭제 후 세션 시작 훅의 상태 해석 로직 미업데이트</li>
<li>UTF-8 인코딩 문제로 한글 텍스트 패턴 인식 실패</li>
</ul>
<p><strong>해결방법</strong> (v0.1.9+에서 자동 해결):</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 체크포인트 시스템 직접 테스트</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">1</span>
<span class="c1"># 정상 출력: &quot;체크포인트 목록 (1개):&quot;</span>

<span class="c1"># 2. 세션 재시작 후 확인</span>
<span class="c1"># 정상: &quot;✅ 통합 체크포인트 시스템 사용 가능&quot;</span>

<span class="c1"># 3. 수동 패치 (이미 적용됨)</span>
<span class="c1"># - session_start_notice.py에서 UTF-8 인코딩 명시</span>
<span class="c1"># - &quot;moai_cp/&quot; 패턴 인식 추가</span>
<span class="c1"># - &quot;available&quot; 상태 처리 완성</span>
</code></pre></div>
<h4 id="4_1">4. 모드 전환 문제</h4>
<p><strong>문제</strong>: 개인/팀 모드가 제대로 전환되지 않음</p>
<p><strong>원인</strong>: <code>.moai/config.json</code> 설정 오류</p>
<p><strong>해결방법</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 현재 모드 확인</span>
cat<span class="w"> </span>.moai/config.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-A1<span class="w"> </span><span class="s2">&quot;mode&quot;</span>

<span class="c1"># 2. 모드 수동 변경</span>
<span class="c1"># 개인 모드로 전환</span>
sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/&quot;mode&quot;: &quot;team&quot;/&quot;mode&quot;: &quot;personal&quot;/&#39;</span><span class="w"> </span>.moai/config.json

<span class="c1"># 팀 모드로 전환</span>
sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s/&quot;mode&quot;: &quot;personal&quot;/&quot;mode&quot;: &quot;team&quot;/&#39;</span><span class="w"> </span>.moai/config.json

<span class="c1"># 3. 변경 확인</span>
cat<span class="w"> </span>.moai/config.json
</code></pre></div>
<h4 id="4_2">4. 체크포인트 시스템 오류</h4>
<p><strong>문제</strong>: 자동 체크포인트가 생성되지 않음</p>
<p><strong>원인</strong>: 개인 모드 설정 오류 또는 파일 감시 시스템 비활성화</p>
<p><strong>해결방법</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 개인 모드 확인</span>
grep<span class="w"> </span>-A5<span class="w"> </span><span class="s2">&quot;personal&quot;</span><span class="w"> </span>.moai/config.json
<span class="c1"># auto_checkpoint: true 확인</span>

<span class="c1"># 2. 통합 체크포인트 시스템 상태 확인</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">1</span>
<span class="c1"># 출력에 &quot;체크포인트 목록&quot;이 나오면 정상 작동</span>

<span class="c1"># 2-1. 세션 시작 시 워처 상태 확인</span>
<span class="c1"># ✅ 통합 체크포인트 시스템 사용 가능  ← 정상</span>
<span class="c1"># ℹ️ 워처 상태 확인 필요             ← 문제 있음 (이제 해결됨)</span>

<span class="c1"># 3. 수동 체크포인트 테스트</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>create<span class="w"> </span><span class="s2">&quot;테스트 체크포인트&quot;</span>

<span class="c1"># 4. 체크포인트 목록 확인</span>
python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">5</span>
</code></pre></div>
<h4 id="5">5. 개발 가이드 검증 오류</h4>
<p><strong>문제</strong>: TRUST 원칙 검증이 실행되지 않음</p>
<p><strong>원인</strong>: 스크립트 경로 오류 또는 실행 권한 부족</p>
<p><strong>해결방법</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 스크립트 실행 권한 확인</span>
ls<span class="w"> </span>-la<span class="w"> </span>.moai/scripts/check_constitution.py

<span class="c1"># 2. 수동 실행 테스트</span>
python3<span class="w"> </span>.moai/scripts/check_constitution.py

<span class="c1"># 3. 실행 권한 부여 (필요시)</span>
chmod<span class="w"> </span>+x<span class="w"> </span>.moai/scripts/check_constitution.py

<span class="c1"># 4. 개발 가이드 설정 확인</span>
cat<span class="w"> </span>.moai/config.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-A5<span class="w"> </span><span class="s2">&quot;constitution&quot;</span>
</code></pre></div>
<h3 id="_39">시스템 진단 명령어</h3>
<h4 id="_40">종합 시스템 상태 확인</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># MoAI-ADK 시스템 전체 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== MoAI-ADK 시스템 진단 ===&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📁 파일 구조 확인:&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Commands: </span><span class="k">$(</span>ls<span class="w"> </span>.claude/commands/moai/*.md<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span><span class="s2">개&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Agents: </span><span class="k">$(</span>ls<span class="w"> </span>.claude/agents/*/*.md<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span><span class="s2">개&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hooks: </span><span class="k">$(</span>ls<span class="w"> </span>.claude/hooks/moai/*.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span><span class="s2">개&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Scripts: </span><span class="k">$(</span>ls<span class="w"> </span>.moai/scripts/*.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l<span class="k">)</span><span class="s2">개&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔧 실행 권한 확인:&quot;</span>
ls<span class="w"> </span>-la<span class="w"> </span>.claude/hooks/moai/*.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^-rwx&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ 권한 오류&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 모든 Hook 실행 가능&quot;</span>
ls<span class="w"> </span>-la<span class="w"> </span>.moai/scripts/*.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^-rwx&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ 권한 오류&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 모든 Script 실행 가능&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;⚙️ 설정 파일 확인:&quot;</span>
<span class="nb">test</span><span class="w"> </span>-f<span class="w"> </span>.claude/settings.json<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ Claude Code 설정 존재&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ settings.json 없음&quot;</span>
<span class="nb">test</span><span class="w"> </span>-f<span class="w"> </span>.moai/config.json<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ MoAI 설정 존재&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ config.json 없음&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔗 경로 무결성 확인:&quot;</span>
grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;\.claude/scripts\|\.moai/hooks&quot;</span><span class="w"> </span>.claude<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ 오래된 경로 참조 발견&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 모든 경로 정상&quot;</span>
</code></pre></div>
<h4 id="_41">빠른 복구 스크립트</h4>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># MoAI-ADK 빠른 복구 스크립트</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔧 MoAI-ADK 시스템 복구 중...&quot;</span>

<span class="c1"># 1. 실행 권한 복구</span>
chmod<span class="w"> </span>+x<span class="w"> </span>.claude/hooks/moai/*.py
chmod<span class="w"> </span>+x<span class="w"> </span>.moai/scripts/*.py
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 실행 권한 복구 완료&quot;</span>

<span class="c1"># 2. 기본 설정 복구</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-f<span class="w"> </span>.moai/config.json<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>.moai/config.json<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">{</span>
<span class="s">  &quot;project&quot;: {</span>
<span class="s">    &quot;mode&quot;: &quot;personal&quot;,</span>
<span class="s">    &quot;name&quot;: &quot;MoAI-Project&quot;,</span>
<span class="s">    &quot;description&quot;: &quot;MoAI Agentic Development Kit Project&quot;</span>
<span class="s">  },</span>
<span class="s">  &quot;git_strategy&quot;: {</span>
<span class="s">    &quot;personal&quot;: {</span>
<span class="s">      &quot;auto_checkpoint&quot;: true,</span>
<span class="s">      &quot;checkpoint_interval&quot;: 300,</span>
<span class="s">      &quot;max_checkpoints&quot;: 50,</span>
<span class="s">      &quot;cleanup_days&quot;: 7,</span>
<span class="s">      &quot;branch_prefix&quot;: &quot;feature/&quot;,</span>
<span class="s">      &quot;auto_commit&quot;: true</span>
<span class="s">    },</span>
<span class="s">    &quot;team&quot;: {</span>
<span class="s">      &quot;use_gitflow&quot;: true,</span>
<span class="s">      &quot;main_branch&quot;: &quot;main&quot;,</span>
<span class="s">      &quot;develop_branch&quot;: &quot;develop&quot;,</span>
<span class="s">      &quot;feature_prefix&quot;: &quot;feature/SPEC-&quot;,</span>
<span class="s">      &quot;auto_pr&quot;: true,</span>
<span class="s">      &quot;draft_pr&quot;: true</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  &quot;constitution&quot;: {</span>
<span class="s">    &quot;simplicity_threshold&quot;: 5,</span>
<span class="s">    &quot;test_coverage_target&quot;: 85,</span>
<span class="s">    &quot;enforce_tdd&quot;: true,</span>
<span class="s">    &quot;require_tags&quot;: true</span>
<span class="s">  }</span>
<span class="s">}</span>
<span class="s">EOF</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 기본 설정 복구 완료&quot;</span>
<span class="k">fi</span>

<span class="c1"># 3. 시스템 검증</span>
python3<span class="w"> </span>.moai/scripts/check_constitution.py<span class="w"> </span>--version<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 개발 가이드 검증 정상&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;⚠️ 개발 가이드 검증 문제&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🎉 MoAI-ADK 복구 완료!&quot;</span>
</code></pre></div>
<hr />
<h2 id="system-verification">📋 System Verification</h2>
<h3 id="_42">설치 후 검증 체크리스트</h3>
<h4 id="_43">✅ 필수 검증 항목</h4>
<p><strong>1. 파일 구조 검증</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 핵심 파일이 올바른 위치에 존재하는지 확인</span>
□<span class="w"> </span>.claude/settings.json
□<span class="w"> </span>.claude/commands/moai/<span class="w"> </span><span class="o">(</span>핵심<span class="w"> </span>커맨드<span class="o">)</span>
□<span class="w"> </span>.claude/agents/moai/<span class="w"> </span><span class="o">(</span>project-manager,<span class="w"> </span>cc-manager,<span class="w"> </span>spec-builder,<span class="w"> </span>code-builder,<span class="w"> </span>doc-syncer,<span class="w"> </span>git-manager<span class="o">)</span>
□<span class="w"> </span>.claude/hooks/moai/<span class="w"> </span><span class="o">(</span>steering_guard<span class="w"> </span>등<span class="w"> </span>보안/검증<span class="w"> </span>훅<span class="o">)</span>
□<span class="w"> </span>.moai/config.json
□<span class="w"> </span>.moai/scripts/<span class="w"> </span><span class="o">(</span>자동화<span class="w"> </span>스크립트<span class="w"> </span>모음<span class="o">)</span>
□<span class="w"> </span>.moai/memory/development-guide.md
</code></pre></div>
<p><strong>2. 실행 권한 검증</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 Python 스크립트가 실행 가능한지 확인</span>
□<span class="w"> </span>.claude/hooks/moai/*.py<span class="w"> </span><span class="o">(</span>모두<span class="w"> </span>rwxr-xr-x<span class="o">)</span>
□<span class="w"> </span>.moai/scripts/*.py<span class="w"> </span><span class="o">(</span>모두<span class="w"> </span>rwxr-xr-x<span class="o">)</span>
</code></pre></div>
<p><strong>3. 경로 참조 검증</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 모든 경로 참조가 올바른지 확인</span>
□<span class="w"> </span>settings.json의<span class="w"> </span>hook<span class="w"> </span>경로들
□<span class="w"> </span>git-manager.md<span class="w"> </span>의<span class="w"> </span>스크립트<span class="w"> </span>경로들
□<span class="w"> </span>오래된<span class="w"> </span>경로<span class="w"> </span>참조<span class="w"> </span>완전<span class="w"> </span>제거
</code></pre></div>
<p><strong>4. 기능 테스트</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 핵심 기능들이 정상 작동하는지 확인</span>
□<span class="w"> </span>/moai:debug<span class="w"> </span>--constitution-check<span class="w"> </span>명령어<span class="w"> </span>실행
□<span class="w"> </span>/moai:1-spec<span class="w"> </span>명령어<span class="w"> </span>실행
□<span class="w"> </span>/moai:2-build<span class="w"> </span>명령어<span class="w"> </span>실행
□<span class="w"> </span>/moai:3-sync<span class="w"> </span>명령어<span class="w"> </span>실행
□<span class="w"> </span>@agent-git-manager<span class="w"> </span><span class="s2">&quot;체크포인트 현황 공유&quot;</span><span class="w"> </span>호출
□<span class="w"> </span>python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>list<span class="w"> </span><span class="m">1</span><span class="w"> </span>실행
</code></pre></div>
<h4 id="_44">🧪 고급 검증 스크립트</h4>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># MoAI-ADK 종합 시스템 검증</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔍 MoAI-ADK 0.1.9 시스템 검증 시작...&quot;</span>

<span class="nv">PASS</span><span class="o">=</span><span class="m">0</span>
<span class="nv">FAIL</span><span class="o">=</span><span class="m">0</span>

<span class="c1"># 함수 정의</span>
check_file<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ </span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="o">((</span>PASS++<span class="o">))</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ </span><span class="nv">$1</span><span class="s2"> (누락)&quot;</span>
<span class="w">        </span><span class="o">((</span>FAIL++<span class="o">))</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

check_executable<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-x<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ </span><span class="nv">$1</span><span class="s2"> (실행 가능)&quot;</span>
<span class="w">        </span><span class="o">((</span>PASS++<span class="o">))</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ </span><span class="nv">$1</span><span class="s2"> (실행 권한 없음)&quot;</span>
<span class="w">        </span><span class="o">((</span>FAIL++<span class="o">))</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># 1. 핵심 파일 존재 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📁 1. 핵심 파일 존재 검증&quot;</span>
check_file<span class="w"> </span><span class="s2">&quot;.claude/settings.json&quot;</span>
check_file<span class="w"> </span><span class="s2">&quot;.moai/config.json&quot;</span>
check_file<span class="w"> </span><span class="s2">&quot;.moai/memory/development-guide.md&quot;</span>
check_file<span class="w"> </span><span class="s2">&quot;CLAUDE.md&quot;</span>

<span class="c1"># 2. 명령어 파일 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📋 2. 명령어 파일 검증&quot;</span>
<span class="k">for</span><span class="w"> </span>cmd<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>-project<span class="w"> </span><span class="m">1</span>-spec<span class="w"> </span><span class="m">2</span>-build<span class="w"> </span><span class="m">3</span>-sync<span class="w"> </span><span class="m">4</span>-debug<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>check_file<span class="w"> </span><span class="s2">&quot;.claude/commands/moai/</span><span class="si">${</span><span class="nv">cmd</span><span class="si">}</span><span class="s2">.md&quot;</span>
<span class="k">done</span>

<span class="c1"># 3. 에이전트 파일 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🤖 3. 에이전트 파일 검증&quot;</span>
<span class="k">for</span><span class="w"> </span>agent<span class="w"> </span><span class="k">in</span><span class="w"> </span>project-manager<span class="w"> </span>cc-manager<span class="w"> </span>spec-builder<span class="w"> </span>code-builder<span class="w"> </span>doc-syncer<span class="w"> </span>git-manager<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>check_file<span class="w"> </span><span class="s2">&quot;.claude/agents/moai/</span><span class="si">${</span><span class="nv">agent</span><span class="si">}</span><span class="s2">.md&quot;</span>
<span class="k">done</span>


<span class="c1"># 4. Hook 스크립트 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🪝 4. Hook 스크립트 검증&quot;</span>
<span class="k">for</span><span class="w"> </span>hook<span class="w"> </span><span class="k">in</span><span class="w"> </span>auto_checkpoint<span class="w"> </span>check_style<span class="w"> </span>file_watcher<span class="w"> </span>language_detector<span class="w"> </span>policy_block<span class="w"> </span>pre_write_guard<span class="w"> </span>run_tests_and_report<span class="w"> </span>session_start_notice<span class="w"> </span>steering_guard<span class="w"> </span>tag_validator<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>check_executable<span class="w"> </span><span class="s2">&quot;.claude/hooks/moai/</span><span class="si">${</span><span class="nv">hook</span><span class="si">}</span><span class="s2">.py&quot;</span>
<span class="k">done</span>

<span class="c1"># 5. Core 스크립트 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;⚙️ 5. Core 스크립트 검증&quot;</span>
<span class="k">for</span><span class="w"> </span>script<span class="w"> </span><span class="k">in</span><span class="w"> </span>branch_manager<span class="w"> </span>check-traceability<span class="w"> </span>check_constitution<span class="w"> </span>checkpoint_manager<span class="w"> </span>commit_helper<span class="w"> </span>detect_project_type<span class="w"> </span>doc_sync<span class="w"> </span>rollback<span class="w"> </span>sync_manager<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>check_executable<span class="w"> </span><span class="s2">&quot;.moai/scripts/</span><span class="si">${</span><span class="nv">script</span><span class="si">}</span><span class="s2">.py&quot;</span>
<span class="k">done</span>

<span class="c1"># 6. 설정 무결성 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔧 6. 설정 무결성 검증&quot;</span>
<span class="k">if</span><span class="w"> </span>grep<span class="w"> </span>-q<span class="w"> </span><span class="s2">&quot;.claude/hooks/moai/check_style.py&quot;</span><span class="w"> </span>.claude/settings.json<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ settings.json 경로 정상&quot;</span>
<span class="w">    </span><span class="o">((</span>PASS++<span class="o">))</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ settings.json 경로 오류&quot;</span>
<span class="w">    </span><span class="o">((</span>FAIL++<span class="o">))</span>
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span>grep<span class="w"> </span>-q<span class="w"> </span><span class="s2">&quot;.moai/scripts/rollback.py&quot;</span><span class="w"> </span>.claude/agents/moai/git-manager.md<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ git-manager.md 경로 정상&quot;</span>
<span class="w">    </span><span class="o">((</span>PASS++<span class="o">))</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ git-manager.md 경로 오류&quot;</span>
<span class="w">    </span><span class="o">((</span>FAIL++<span class="o">))</span>
<span class="k">fi</span>

<span class="c1"># 7. 오래된 경로 참조 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔍 7. 경로 무결성 검증&quot;</span>
<span class="k">if</span><span class="w"> </span>!<span class="w"> </span>grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;\.claude/scripts\|\.moai/hooks&quot;</span><span class="w"> </span>.claude<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 오래된 경로 참조 없음&quot;</span>
<span class="w">    </span><span class="o">((</span>PASS++<span class="o">))</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ 오래된 경로 참조 발견&quot;</span>
<span class="w">    </span><span class="o">((</span>FAIL++<span class="o">))</span>
<span class="k">fi</span>

<span class="c1"># 8. 모드 설정 검증</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🎛️ 8. 모드 설정 검증&quot;</span>
<span class="nv">MODE</span><span class="o">=</span><span class="k">$(</span>grep<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;&quot;mode&quot;: &quot;[^&quot;]*&quot;&#39;</span><span class="w"> </span>.moai/config.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="s1">&#39;&quot;&#39;</span><span class="w"> </span>-f4<span class="k">)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$MODE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;personal&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$MODE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;team&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 모드 설정 정상 (</span><span class="nv">$MODE</span><span class="s2">)&quot;</span>
<span class="w">    </span><span class="o">((</span>PASS++<span class="o">))</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ 모드 설정 오류 (</span><span class="nv">$MODE</span><span class="s2">)&quot;</span>
<span class="w">    </span><span class="o">((</span>FAIL++<span class="o">))</span>
<span class="k">fi</span>

<span class="c1"># 결과 요약</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🎯 검증 결과 요약:&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 통과: </span><span class="nv">$PASS개</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;❌ 실패: </span><span class="nv">$FAIL개</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📊 성공률: </span><span class="k">$((</span><span class="w"> </span><span class="nv">PASS</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="o">(</span><span class="nv">PASS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">FAIL</span><span class="o">)</span><span class="w"> </span><span class="k">))</span><span class="s2">%&quot;</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$FAIL</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🎉 MoAI-ADK 0.1.9 시스템 검증 완료!&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🚀 모든 기능이 정상 작동할 준비가 되었습니다.&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;⚠️  </span><span class="nv">$FAIL개</span><span class="s2"> 문제 발견. 위의 오류를 해결해 주세요.&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;💡 복구 가이드: docs/MOAI-ADK-0.1.9-GUIDE.md#troubleshooting-guide&quot;</span>
<span class="k">fi</span>
</code></pre></div>
<h4 id="_45">📊 성능 벤치마크 테스트</h4>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># MoAI-ADK 성능 벤치마크</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;⚡ MoAI-ADK 성능 벤치마크 테스트&quot;</span>

<span class="c1"># 1. Hook 실행 속도 테스트</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🪝 Hook 실행 속도 테스트&quot;</span>
<span class="nb">time</span><span class="w"> </span>python3<span class="w"> </span>.claude/hooks/moai/check_style.py<span class="w"> </span>--test<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;check_style.py 실행 완료&quot;</span>

<span class="c1"># 2. 개발 가이드 검증 속도 테스트</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📜 개발 가이드 검증 속도 테스트&quot;</span>
<span class="nb">time</span><span class="w"> </span>python3<span class="w"> </span>.moai/scripts/check_constitution.py<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;개발 가이드 검증 완료&quot;</span>

<span class="c1"># 3. 체크포인트 생성 속도 테스트 (개인 모드)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔄 체크포인트 시스템 테스트&quot;</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="k">$(</span>grep<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;&quot;mode&quot;: &quot;[^&quot;]*&quot;&#39;</span><span class="w"> </span>.moai/config.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="s1">&#39;&quot;&#39;</span><span class="w"> </span>-f4<span class="k">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;personal&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>python<span class="w"> </span>.moai/scripts/checkpoint_manager.py<span class="w"> </span>create<span class="w"> </span><span class="s2">&quot;벤치마크 테스트&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;체크포인트 생성 완료&quot;</span>
<span class="k">fi</span>

<span class="c1"># 4. 메모리 사용량 확인</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;💾 메모리 사용량 확인&quot;</span>
ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s2">&quot;(python.*moai|file_watcher)&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $4, $11}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-5

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ 성능 벤치마크 완료&quot;</span>
</code></pre></div>
<hr />
<h2 id="_46">🎉 결론</h2>
<h3 id="moai-adk-019_1">MoAI-ADK 0.1.9의 개인/팀 모드 혁신</h3>
<p><strong>🚀 모든 개발자를 위한 완전한 Git 자동화</strong></p>
<p>MoAI-ADK 0.1.9는 <strong>개인/팀 모드 통합 시스템</strong>을 통한 <strong>개발 방식의 근본적 혁신</strong>입니다:</p>
<h4 id="_47">🧪 개인 모드의 가치</h4>
<ul>
<li><strong>완전한 실험 자유</strong>: 체크포인트 기반 안전한 시행착오</li>
<li><strong>즉시 롤백</strong>: 언제든지 이전 상태로 5초 내 복구</li>
<li><strong>Git 학습 불필요</strong>: 체크포인트만으로도 완전한 버전 관리</li>
<li><strong>빠른 프로토타이핑</strong>: 아이디어를 즉시 코드로, 실패해도 안전</li>
</ul>
<h4 id="_48">🏢 팀 모드의 가치</h4>
<ul>
<li><strong>완전한 GitFlow 자동화</strong>: 브랜치부터 PR까지 모든 과정 자동</li>
<li><strong>일관된 협업 품질</strong>: 7단계 자동 커밋으로 완벽한 히스토리</li>
<li><strong>팀 생산성 극대화</strong>: Git 명령어 학습 없이 즉시 전문적 협업</li>
<li><strong>품질 보장</strong>: TRUST 원칙과 TDD 자동 검증</li>
</ul>
<h3 id="_49">🎯 핵심 성과 지표</h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────┐
│ 🎉 MoAI-ADK 0.1.9 - 개인/팀 모드 통합 달성                │
├─────────────────────────────────────────────────────────────┤
│ 🧪 개인 모드: 실험적 개발을 위한 안전망 강화 (v0.1.9+)    │
│   - 자동 체크포인트: KST 기준 5분마다 + 파일 변경 시       │
│   - 체크포인트 롤백: 평균 &lt; 30초 복구 (55% 개선)          │
│   - Git 투명성: 핵심 명령만 학습하면 운영 가능            │
│                                                           │
│ 🏢 팀 모드: Issue 기반 협업 자동화를 위한 토대             │
│   - GitFlow 지원: feature/SPEC-XXX-{slug} 브랜치 템플릿     │
│   - PR 라이프사이클: GitHub App 연동 시 Draft → Ready 지원 │
│   - 팀 협업 도구: 리뷰어 추천·알림·보드 업데이트 트리거    │
│                                                           │
│ 📊 통합 성과:                                             │
│   - 개발 시간: Git 반복 작업 기준으로 평균 60~70% 절감     │
│   - 실수 방지: 체크포인트·검증 후크로 오류 재현률 감소     │
│   - 학습 부담: 필수 슬래시 커맨드·GitFlow 절차로 축소      │
│   - 협업 효율: Issue 중심 흐름으로 리뷰 사이클 단축        │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>
<h3 id="_50">🚀 다음 단계</h3>
<ol>
<li><strong>🔧 즉시 체험</strong>: <code>pip install moai-adk==0.1.9 &amp;&amp; moai init --personal</code></li>
<li><strong>🧪 개인 실험</strong>: 체크포인트 기반 안전한 개발 경험</li>
<li><strong>🏢 팀 도입</strong>: <code>moai init --team</code>으로 완전 자동화된 협업</li>
<li><strong>🌟 커뮤니티 참여</strong>: 경험 공유 및 피드백</li>
</ol>
<h3 id="_51">지원 및 커뮤니티</h3>
<ul>
<li><strong>📖 문서</strong>: <a href="https://docs.moai-adk.com">docs.moai-adk.com</a></li>
<li><strong>💬 디스코드</strong>: <a href="https://discord.gg/moai-adk">discord.gg/moai-adk</a></li>
<li><strong>🐛 이슈</strong>: <a href="https://github.com/modu-ai/moai-adk/issues">github.com/modu-ai/moai-adk/issues</a></li>
<li><strong>📧 지원</strong>: support@moai-adk.com</li>
</ul>
<hr />
<blockquote>
<p><strong>🗿 "개인은 안전하게 실험하고, 팀은 완벽하게 협업한다."</strong></p>
<p><strong>MoAI-ADK 0.1.9로 당신의 개발 방식을 혁신하세요!</strong></p>
</blockquote>
<hr />
<p><strong>문서 버전</strong>: 0.1.9-project-kickoff
<strong>마지막 업데이트</strong>: 2025-09-24
<strong>작성자</strong>: MoAI-ADK Development Team</p>
<hr />
<h2 id="document-update-history">🔄 Document Update History</h2>
<h3 id="2024-09-24-v019-performance-optimization-complete">2024-09-24 - v0.1.9-performance-optimization-complete</h3>
<ul>
<li><strong>획기적 성능 최적화 완료</strong>: 전체 워크플로우 23분 → 10.3분으로 55% 단축</li>
<li><strong>TDD 사이클 혁신</strong>: 6회 에이전트 호출 → 2회로 67% 단축 (배치 처리 + 스마트 캐싱)</li>
<li><strong>병렬 처리 도입</strong>: Phase별 동시 실행 (0-project, 1-spec, 3-sync)</li>
<li><strong>차등 스캔 시스템</strong>: debug-helper Level 1-3 차등 스캔으로 진단 시간 단축</li>
<li><strong>git-manager 대폭 개선</strong>: 546줄 → 156줄로 71% 간소화, haiku 모델 전환</li>
<li><strong>토큰 비용</strong>: 40% 절감 달성 (haiku/sonnet 적절한 배치)</li>
<li><strong>응답 시간</strong>: Git 명령 실행 대기 시간 3초 → 1초</li>
<li><strong>안정성</strong>: 핵심 기능 집중으로 오류 발생률 현저히 감소</li>
<li><strong>언어 감지 캐싱</strong>: config.json 활용으로 매번 스캔 제거 (95% 시간 단축)</li>
<li><strong>한국시간(KST) 적용</strong>: 모든 체크포인트와 태그를 한국 표준시 기준으로 통일</li>
<li><strong>사용자 경험 대폭 향상</strong>: 실행 시간 단축으로 개발자 생산성 크게 개선</li>
</ul>
<h3 id="2024-09-24-v019-system-simplification">2024-09-24 - v0.1.9-system-simplification</h3>
<ul>
<li><strong>시스템 단순화</strong>: 불필요한 브레인스토밍 기능 완전 제거</li>
<li><strong>codex-bridge/gemini-bridge 에이전트 제거</strong>: 외부 CLI 의존성 제거로 안정성 향상</li>
<li><strong>브레인스토밍 설정 제거</strong>: <code>.moai/config.json</code>에서 brainstorming 관련 설정 제거</li>
<li><strong>프로젝트 문서 시스템 정리</strong>: <code>.moai/project/{product,structure,tech}.md</code> 기반 일원화</li>
<li><strong>project-manager 역할 명확화</strong>: <code>/moai:0-project</code>에서 직접 호출되는 실제 작업 에이전트로 역할 정립</li>
<li><strong>문서 구조 개선</strong>: 중복 파일 제거 및 단일 소스 원칙 적용</li>
</ul>
<h3 id="2025-09-24-v019-cli-optimization-enhanced">2025-09-24 - v0.1.9-cli-optimization-enhanced</h3>
<ul>
<li><strong>브리지 에이전트 CLI 최적화</strong>: 공식 문서 규격 완전 준수 및 안정성 대폭 향상</li>
<li><strong>Codex CLI</strong>: <code>gpt-5-codex</code> 모델 확정, <code>--model</code> → <code>-m</code> 플래그 표준화, <code>--full-auto</code> 자동화 모드 추가</li>
<li><strong>Gemini CLI</strong>: <code>gemini-2.5-pro</code> 기본 + <code>gemini-2.5-flash</code> 지능형 fallback, 버전 호환성 로직 구현</li>
<li><strong>에러 처리</strong>: CLI 버전 차이 자동 대응, 실패 시 fallback 전략 및 상세 진단 정보 제공</li>
<li><strong>0-project.md</strong>: CLI 설치/버전 체크 로직 강화, 모델 지원 상황 확인 추가</li>
</ul>
<h3 id="2025-09-24-v019-debug-system-enhanced">2025-09-24 - v0.1.9-debug-system-enhanced</h3>
<ul>
<li><strong>debug-helper 에이전트 추가</strong>: 통합 디버깅 시스템 도입</li>
<li>일반 오류 디버깅: 코드/Git/설정 오류 분석 및 해결책 제시</li>
<li>개발 가이드 위반 검사: 5원칙 준수도 체계적 검증</li>
<li>구조화된 진단 출력: 문제→영향도→해결방안→후속작업 순서</li>
<li><strong>project-manager 자동화 강화</strong>: 레거시 프로젝트 분석 시스템 구현</li>
<li>자동 코드베이스 분석: 구조 스캔 + 기술 스택 감지</li>
<li>스마트 인터뷰: 질문 수 70% 감소, 처리 시간 15-20분 → <strong>3-5분 (병렬 처리 적용)</strong></li>
<li>불필요한 브레인스토밍 기능 제거로 단순화</li>
<li><strong>에이전트 지침 순수화</strong>: 모든 에이전트 정의 파일을 순수한 행동 지침으로 개선</li>
<li>코드 블록 완전 제거: bash, Python, JSON 예제 등 실행 가능한 코드 제거</li>
<li>지침 형태 통일: "~를 수행합니다", "~를 확인합니다" 형태로 일관성 확보</li>
<li>구현과 지침 분리: 에이전트는 "무엇을 해야 하는지"에만 집중</li>
<li>유지보수성 향상: 코드 없는 명확한 지침으로 수정 용이</li>
<li><strong>Git 명령어 체계 전면 개선</strong>: 중복 제거 및 자동화 강화</li>
<li>Git 명령어 디렉토리 제거: /moai:git:* 명령어 5개 제거</li>
<li>워크플로우 통합: 모든 Git 작업을 git-manager 에이전트로 통일</li>
<li>자동화 수준 향상: 99% 자동 처리, 1% 특수 케이스만 직접 호출</li>
<li><strong><code>/moai:debug</code> 명령어 추가</strong>: 통합 디버깅 명령어 체계 확립</li>
</ul>
<h3 id="2025-09-23-v019-project-kickoff">2025-09-23 - v0.1.9-project-kickoff</h3>
<ul>
<li><code>/moai:0-project</code> → <code>/moai:1-spec</code> auto 흐름으로 4단계 워크플로우 재정의</li>
<li><code>moai init</code> 시 프로젝트 템플릿(.moai/project)을 기본 복사하고 CLAUDE.md에서 자동 import하도록 명시</li>
<li>Personal/Team 모드 SPEC 생성 방식을 각각 로컬 파일·GitHub Issue 기반으로 분리</li>
<li>기존 <code>--project</code> 옵션 관련 안내 제거 및 새 팀 협업 플로우 문서화</li>
<li><code>/moai:1-spec</code> 명령 사용예와 Usage Guide(개인/팀) 시나리오 업데이트</li>
</ul>
<h3 id="2025-09-24-v019-watcher-fix">2025-09-24 - v0.1.9-watcher-fix</h3>
<p><strong>Major Fix: 워처 상태 표시 문제 완전 해결</strong> @DEBT:WATCHER-STATUS-001</p>
<ul>
<li><strong>문제</strong>: "ℹ️ 워처 상태 확인 필요: 상태를 판별할 수 없습니다" 오류 메시지</li>
<li><strong>원인</strong>: checkpoint_watcher.py 삭제 후 session_start_notice.py의 상태 해석 로직 미업데이트</li>
<li><strong>해결</strong>:</li>
<li>subprocess 호출에 UTF-8 인코딩 명시로 한글 텍스트 처리 개선</li>
<li>"moai_cp/" 패턴 인식 추가로 체크포인트 감지 강화</li>
<li>모든 워처 상태 표시 위치에 "available" 상태 처리 완성</li>
<li><strong>결과</strong>: 세션 시작 시 "✅ 통합 체크포인트 시스템 사용 가능" 정상 표시</li>
</ul>
<h3 id="2025-09-23-v019-doc-sync-enhanced">2025-09-23 - v0.1.9-doc-sync-enhanced</h3>
<ul>
<li><code>/moai:3-sync</code> 실행 시 생성되는 <code>docs/status/sync-report.md</code>와 <code>docs/sections/index.md</code> 자동 갱신 흐름을 문서화</li>
<li>SessionStart/<code>/moai:status</code> 체크포인트 워처 상태 안내 및 <code>watchdog</code> 미설치 대비 절차를 반영</li>
</ul>
<h3 id="2025-09-22-v019-updated">2025-09-22 - v0.1.9-updated</h3>
<p><strong>Major Updates: 파일 구조 정리 및 검증 완료</strong></p>
<h4 id="_52">✅ 추가된 섹션</h4>
<ol>
<li><strong>🔧 File Structure &amp; Configuration</strong> - 완전히 검증된 파일 구조</li>
<li>표준 디렉토리 구조 상세 설명</li>
<li>설정 파일 완전 검증된 내용</li>
<li>
<p>경로 검증 및 수정 이력 문서화</p>
</li>
<li>
<p><strong>🛠️ Troubleshooting Guide</strong> - 종합 문제 해결 가이드</p>
</li>
<li>Hook 실행 오류 해결 방법</li>
<li>Git 명령어 스크립트 오류 해결</li>
<li>모드 전환 문제 해결</li>
<li>체크포인트 시스템 오류 해결</li>
<li>개발 가이드 검증 오류 해결</li>
<li>시스템 진단 명령어 제공</li>
<li>
<p>빠른 복구 스크립트 제공</p>
</li>
<li>
<p><strong>📋 System Verification</strong> - 설치 후 검증 시스템</p>
</li>
<li>필수 검증 항목 체크리스트</li>
<li>고급 검증 스크립트 (bash)</li>
<li>성능 벤치마크 테스트 스크립트</li>
</ol>
<h4 id="_53">🔧 해결된 주요 문제들</h4>
<ol>
<li><strong>Hook 스크립트 경로 정리</strong>:</li>
<li><code>.moai/hooks/</code> → <code>.claude/hooks/moai/</code> 이동</li>
<li><code>settings.json</code> 모든 경로 참조 업데이트</li>
<li>
<p>실행 권한 부여 완료</p>
</li>
<li>
<p><strong>Script 파일 위치 정리</strong>:</p>
</li>
<li><code>rollback.py</code>: <code>.claude/scripts/moai/git/</code> → <code>.moai/scripts/</code></li>
<li>
<p><code>git-manager.md</code> 모든 경로 참조 수정</p>
</li>
<li>
<p><strong>실행 권한 표준화</strong>:</p>
</li>
<li>모든 Python 스크립트 실행 권한 부여</li>
<li>Hook 스크립트 5개 모두 <code>rwxr-xr-x</code></li>
<li>
<p>Core 스크립트 6개 모두 <code>rwxr-xr-x</code></p>
</li>
<li>
<p><strong>Hook 시스템 최적화 (0.1.9 신규)</strong>:</p>
</li>
<li>Stop Hook 비활성화: 불필요한 테스트 실행 제거로 개발 속도 향상</li>
<li>보호 경로 정책 완화: <code>.moai/project/</code> 완전 허용, <code>.moai/memory/</code> 읽기 허용</li>
<li>명령어 정책 개선: grep/find 차단 해제, rg 권장으로 정책 변경</li>
<li>SecurityManager API 보완: 누락된 메서드 추가로 테스트 호환성 개선</li>
</ol>
<h4 id="_54">📊 검증 현황 요약</h4>
<ul>
<li><strong>파일 구조</strong>: 템플릿 동기화 시마다 자동 점검(최소 주기 1주)</li>
<li><strong>경로 참조</strong>: CI에서 설정 스캐너를 실행해 누락 여부 확인</li>
<li><strong>실행 권한</strong>: <code>chmod +x</code> 체크를 사전 훅으로 강제</li>
<li><strong>설정 파일</strong>: <code>moai status</code>가 기본 항목을 진단하고 미충족 시 경고</li>
</ul>
<h4 id="_55">🎯 문서 품질 향상</h4>
<ul>
<li><strong>1,500+줄</strong> 상세 가이드 추가</li>
<li><strong>실행 가능한 스크립트</strong> 다수 포함</li>
<li><strong>체크리스트</strong> 기반 검증 프로세스</li>
<li><strong>단계별 트러블슈팅</strong> 가이드</li>
</ul>
<p>이 업데이트로 MoAI-ADK 0.1.9는 <strong>완전히 검증되고 안정적인</strong> 상태가 되었습니다.</p>
<hr />
<h2 id="_56">📋 검색 명령어 권장사항</h2>
<h3 id="_57">⚡ 성능 최적화된 검색 도구</h3>
<p><strong>🔍 권장 검색 도구</strong></p>
<ul>
<li><strong>파일 내용 검색</strong>: <code>rg</code> (ripgrep) 권장 - 빠르고 .gitignore 자동 준수</li>
<li><strong>파일 이름 검색</strong>: <code>rg --files -g "패턴"</code> 권장</li>
<li><strong>정규식 검색</strong>: <code>rg "정규식패턴"</code> - grep보다 2-3배 빠름</li>
</ul>
<p><strong>🛠️ 사용 가능한 기존 명령어</strong></p>
<ul>
<li><code>grep</code>, <code>find</code> 명령어도 여전히 사용 가능</li>
<li>단, 성능과 편의성 측면에서 <code>rg</code> 사용을 권장</li>
<li>MoAI-ADK Hook 정책에서 더 이상 차단하지 않음</li>
</ul>
<h3 id="_58">📊 성능 비교 (예시)</h3>
<table>
<thead>
<tr>
<th>검색 도구</th>
<th>대용량 프로젝트 (1M+ 파일)</th>
<th>.gitignore 준수</th>
<th>정규식 지원</th>
<th>권장도</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>rg</strong></td>
<td>⚡ 2-5초</td>
<td>✅ 자동</td>
<td>✅ 고급</td>
<td>🟢 권장</td>
</tr>
<tr>
<td>grep</td>
<td>🐌 10-30초</td>
<td>❌ 수동 설정</td>
<td>✅ 기본</td>
<td>🟡 사용가능</td>
</tr>
<tr>
<td>find</td>
<td>🐌 5-15초</td>
<td>❌ 수동 설정</td>
<td>❌ 없음</td>
<td>🟡 사용가능</td>
</tr>
</tbody>
</table>
<h3 id="_59">🎯 실용적 사용 예시</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 파일 내용에서 함수 검색 (권장)</span>
rg<span class="w"> </span><span class="s2">&quot;def.*setup&quot;</span><span class="w"> </span>--type<span class="w"> </span>py

<span class="c1"># 특정 파일 이름 검색 (권장)</span>
rg<span class="w"> </span>--files<span class="w"> </span>-g<span class="w"> </span><span class="s2">&quot;*test*.py&quot;</span>

<span class="c1"># 기존 방식도 여전히 사용 가능</span>
grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;function&quot;</span><span class="w"> </span>src/
find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.js&quot;</span><span class="w"> </span>-type<span class="w"> </span>f
</code></pre></div>
<p>이 가이드라인을 따르면 개발 효율성과 검색 성능을 크게 향상시킬 수 있습니다.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>