# SPEC-001: 마법사 UX 개선 @REQ:WIZARD-UX-001

> **@REQ:WIZARD-UX-001** "더 직관적인 대화형 인터페이스"

## 📋 요구사항 개요

### 비즈니스 요구사항
**WHEN** 새로운 사용자가 Claude Code 내에서 `/moai:1-project` 명령을 처음 실행할 때
**THE SYSTEM SHALL** 직관적이고 친화적인 대화형 마법사를 제공해야 한다
**IN ORDER TO** 초기 학습 곡선을 줄이고 사용자 온보딩을 개선한다

### 현재 문제점
- 기존 `/moai:1-project` 명령어의 10단계 질문 과정이 복잡하고 중간 이탈률이 높음
- Claude Code 터미널 환경에서 사용자 입력 검증이 부족하여 불완전한 설정 생성
- 에러 메시지가 기술적이어서 초보자가 이해하기 어려움
- 진행 상황 표시가 없어 사용자가 현재 위치와 남은 단계를 파악할 수 없음

### 목표 사용자
- **주니어 개발자**: 처음 사용하는 개발 도구에 대한 두려움 감소
- **시니어 개발자**: 빠른 프로젝트 설정을 위한 효율성 추구
- **팀 리더**: 팀 표준화를 위한 일관된 설정 보장

## 🎯 핵심 기능 요구사항

### FR-1: 단계별 진행 표시
**WHEN** 사용자가 `/moai:1-project` 명령을 실행할 때
**THE SYSTEM SHALL** Claude Code 터미널에서 현재 진행 단계와 전체 단계를 시각적으로 표시해야 한다

```
🗿 MoAI-ADK 프로젝트 초기화 마법사

[1/10] 🎯 프로젝트 비전 설정
████████░░░░░░░░░░ 10% 완료

Q1. 이 프로젝트가 해결하려는 핵심 문제는 무엇인가요?
> [사용자 입력 대기]
```

### FR-2: 입력 검증 및 가이드
**WHEN** 사용자가 불완전하거나 모호한 답변을 입력할 때
**THE SYSTEM SHALL** 구체적인 예시와 함께 재질문해야 한다

```
❌ 입력이 너무 짧습니다. (최소 10자 이상)

💡 예시: "개발자들이 코드 리뷰 시 일관성 없는 품질 때문에
         매번 같은 문제를 반복적으로 지적하는 문제"

Q1. 이 프로젝트가 해결하려는 핵심 문제는 무엇인가요?
> █
```

### FR-3: 컨텍스트 기반 동적 질문
**WHEN** 사용자가 특정 키워드(AI, 보안, 성능 등)를 언급할 때
**THE SYSTEM SHALL** 관련 심화 질문을 자동으로 추가해야 한다

```
🤖 AI/ML 관련 프로젝트가 감지되었습니다.

추가 질문:
Q8-1. 사용할 모델 타입은? (LLM/CNN/RNN/기타)
Q8-2. 예상 데이터 크기는? (< 1GB / 1-10GB / > 10GB)
Q8-3. 학습 환경은? (로컬/클라우드/하이브리드)
```

### FR-4: 실시간 설정 미리보기
**WHEN** 사용자가 답변을 완료할 때마다
**THE SYSTEM SHALL** 현재까지의 설정을 요약해서 보여줘야 한다

```
📝 현재 설정 요약:
┌─────────────────────────────────────┐
│ 프로젝트: 코드리뷰 자동화 봇         │
│ 사용자: 백엔드 개발팀 (3-5명)        │
│ 목표: 6개월 내 리뷰 시간 50% 단축    │
│ 핵심기능: AI 분석, 규칙 엔진, 알림   │
└─────────────────────────────────────┘

계속 진행하시겠습니까? [Y/n] █
```

## 🔄 사용자 여정 시나리오

### 시나리오 1: 성공적인 첫 사용
```gherkin
GIVEN 사용자가 MoAI-ADK를 처음 설치했고
  AND Claude Code 내에서 아무런 프로젝트 설정이 없는 상태
WHEN /moai:1-project 명령어를 실행할 때
THEN 환영 메시지와 함께 10단계 진행 바가 표시되고
  AND 첫 번째 질문이 예시와 함께 제시되고
  AND 사용자가 각 단계를 완료하면 진행률이 업데이트되고
  AND 모든 단계 완료 시 성공 메시지와 다음 단계 가이드가 표시된다
```

### 시나리오 2: 입력 오류 처리
```gherkin
GIVEN 사용자가 마법사 진행 중이고
WHEN 불완전하거나 모호한 답변을 입력할 때
THEN 친화적인 에러 메시지가 표시되고
  AND 구체적인 예시가 제공되고
  AND 이전 답변이 유지된 상태로 재입력 기회가 주어진다
```

### 시나리오 3: 중간 저장 및 재시작
```gherkin
GIVEN 사용자가 마법사를 진행하다가 중단했을 때
WHEN 다시 /moai:1-project 명령어를 실행할 때
THEN 이전 진행 상황이 복원되고
  AND 중단된 지점부터 재시작할 수 있는 옵션이 제공된다
```

## 📊 비기능 요구사항

### NFR-1: 성능
- **응답 시간**: 각 질문 간 전환 < 500ms
- **초기 로딩**: 마법사 시작 < 2초
- **메모리 사용**: 실행 중 < 100MB

### NFR-2: 사용성
- **완료율**: 마법사 완료율 > 85%
- **에러율**: 입력 검증 에러 < 15%
- **만족도**: 사용자 만족도 > 4.0/5.0

### NFR-3: 접근성
- **언어**: 한국어 완전 지원
- **키보드**: 전체 마법사 키보드만으로 조작 가능
- **색상**: 색맹 사용자 고려한 색상 조합

### NFR-4: 호환성
- **터미널**: 모든 주요 터미널 에뮬레이터 지원
- **OS**: Windows, macOS, Linux 크로스 플랫폼
- **Claude Code**: 모든 Claude Code 버전과 호환

## ✅ 수락 기준

### AC-1: 시각적 진행 표시
```
✅ 단계별 진행 바가 정확하게 표시됨
✅ 현재 단계 번호와 제목이 명확함
✅ 완료된 단계는 체크 마크로 표시됨
✅ 전체 진행률이 백분율로 표시됨
```

### AC-2: 입력 검증 시스템
```
✅ 빈 입력 시 적절한 에러 메시지 표시
✅ 너무 짧은 입력 시 최소 길이 안내
✅ 모호한 입력 시 구체적인 예시 제공
✅ 유효하지 않은 선택지 입력 시 재선택 요청
```

### AC-3: 동적 질문 시스템
```
✅ AI/ML 키워드 감지 시 관련 질문 추가
✅ 보안 관련 언급 시 컴플라이언스 질문 추가
✅ 성능 중시 프로젝트 시 성능 목표 질문 추가
✅ 모바일 앱 선택 시 플랫폼 관련 질문 추가
```

### AC-4: 설정 미리보기
```
✅ 각 단계 완료 후 현재 설정 요약 표시
✅ 주요 설정 항목들이 구조화되어 표시
✅ 이전 단계로 돌아가기 옵션 제공
✅ 최종 확인 단계에서 전체 설정 검토 가능
```

## 🔧 기술 구현 요구사항

### 구현 방향
1. **Claude Code 명령어 개선**: 기존 `/moai:1-project` 명령어의 UX 향상
2. **Markdown 기반 출력**: Claude Code 터미널의 마크다운 렌더링 활용
3. **Task 도구 활용**: steering-architect 에이전트와의 효율적 연동
4. **상태 저장**: `.moai/indexes/state.json`을 통한 중간 저장 및 재개

### 핵심 구조 설계
```markdown
## 마법사 단계별 처리 구조
1. **상태 진단**: 기존 프로젝트 구조 자동 감지
2. **질문 생성**: 10단계 대화형 질문 시스템
3. **입력 검증**: 각 단계별 답변 유효성 확인
4. **동적 분기**: 키워드 감지 기반 추가 질문
5. **문서 생성**: steering 문서 및 SPEC 시드 자동 생성

## Task 도구 연동 패턴
- steering-architect 에이전트 호출로 전체 프로젝트 구조 생성
- spec-manager 에이전트 호출로 Top-3 기능 SPEC 시드 생성
- tag-indexer 에이전트 호출로 초기 TAG 시스템 구축
```

## 📈 성공 지표

### 정량적 지표
- **완료율**: 마법사 완료율 90% 이상
- **에러율**: 입력 에러로 인한 재시도 20% 이하
- **시간**: 평균 완료 시간 5분 이하
- **만족도**: 사용자 피드백 4.5/5.0 이상

### 정성적 지표
- **직관성**: "어떻게 사용하는지 바로 알 수 있었다"
- **신뢰성**: "실수 없이 원하는 설정을 만들 수 있었다"
- **효율성**: "빠르게 프로젝트를 시작할 수 있었다"

## 🔗 연관 태그
- **@DESIGN:WIZARD-UX** → 상세 UX/UI 설계
- **@TASK:PROGRESS-BAR** → 진행 바 구현 작업
- **@TASK:INPUT-VALIDATION** → 입력 검증 시스템
- **@TEST:E2E-WIZARD** → 마법사 E2E 테스트

---

> **@REQ:WIZARD-UX-001** 를 통해 이 요구사항이 설계와 구현 단계로 추적됩니다.
>
> **사용자 중심의 직관적인 마법사로 MoAI-ADK의 첫인상을 완벽하게 만들어갑니다.**