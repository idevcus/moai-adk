# MoAI-ADK Code-First TAG 시스템 전환 후 문서 동기화 계획 보고서

**날짜**: 2025-09-29
**브랜치**: feature/v0.0.1-foundation
**보고자**: doc-syncer 에이전트
**상태**: 분석 완료, 승인 대기

---

## 📊 프로젝트 현황 분석

### 프로젝트 유형 식별
- **주 프로젝트 유형**: CLI Tool (TypeScript 기반)
- **패키지 이름**: moai-adk
- **현재 버전**: v0.0.3 (실제) vs v0.0.1 (문서 표기)
- **배포 타겟**: npm, GitHub Releases
- **주요 기능**: 7개 CLI 명령어, 진단 시스템, TAG 관리

### 🔄 Code-First TAG 시스템 전환 완료 현황

#### 새로운 8-Core TAG 아키텍처
```
구 시스템 (16-Core) → 신 시스템 (8-Core)
├── Primary Chain: REQ → DESIGN → TASK → TEST
├── Implementation: FEATURE, API, FIX
└── @IMMUTABLE 마커를 통한 불변성 보장
```

#### 핵심 변경사항
- **분산 저장 → Code-First 파싱**: `.moai/indexes` 제거, 코드 주석에서 직접 추출
- **16-Core → 8-Core 단순화**: 복잡성 50% 감소, 성능 향상
- **ripgrep 직접 스캔**: 실시간 TAG 검색 및 분석
- **@IMMUTABLE 마커**: TAG 불변성 강제 보장

#### 영향받은 파일 범위
- **신규 파일**: 27개 (Code-First 파서, 타입 정의, 테스트)
- **수정된 파일**: 33개 (주요 명령어, 에이전트, 시스템 파일)
- **삭제된 파일**: 구 `.moai/indexes` 시스템 (레거시 제거)

---

## 🎯 CLI 도구 프로젝트 문서 매핑 분석

### CLI Tool에 적합한 문서 구조
```
필수 문서 (CLI Tool):
├── CLI_COMMANDS.md         # ❌ 누락 - 생성 필요
├── usage.md               # ❌ 누락 - 생성 필요
├── INSTALL.md             # ⚠️  README.md에 포함됨
├── CHANGELOG.md           # ❌ 누락 - 생성 필요
└── troubleshooting.md     # ❌ 누락 - 생성 필요

선택적 문서:
├── architecture.md        # ❌ 누락 - 고려 필요
├── API_REFERENCE.md       # ❌ 부분적 (TypeScript API만)
└── development.md         # ✅ development-guide.md 존재
```

### 현재 문서 현황
- **주요 문서 위치**: `/Users/goos/MoAI/MoAI-ADK/.moai/memory/`, `.moai/project/`
- **기술 문서**: product.md, structure.md, tech.md (완성도 높음)
- **사용자 문서**: README.md (기본적), CLAUDE.md (포괄적)

---

## ⚠️ 문서-코드 일치성 검증 결과

### 🚨 주요 불일치 사항 발견

#### 1. 버전 정보 불일치 (심각)
```
📦 package.json:     "version": "0.0.3"
📄 문서들:          "v0.0.1" 표기 (28개 파일)
🖥️  CLI 하드코딩:    .version('0.0.1')
```

#### 2. TAG 시스템 표기 불일치 (보통)
```
📄 문서:    "16-Core TAG 시스템", "분산 TAG v4.0"
💻 코드:    8-Core Code-First TAG 시스템 구현
📊 현실:    Code-First 방식으로 완전 전환 완료
```

#### 3. 성능 지표 불일치 (경미)
```
📄 문서:    "94% 최적화", "149개 TAG"
💻 현실:    구 인덱스 시스템 제거, 새로운 파싱 시스템 도입
```

#### 4. 아키텍처 설명 불일치 (보통)
```
📄 structure.md:    "분산 TAG 시스템 v4.0"
💻 실제 구현:       Code-First 파서 시스템
```

---

## 📋 동기화 우선순위 및 범위

### 🔴 긴급 (High Priority)
1. **버전 정보 통일**: v0.0.3으로 모든 문서 동기화
2. **TAG 시스템 설명 업데이트**: 16-Core → 8-Core Code-First 반영
3. **CLI_COMMANDS.md 생성**: 7개 명령어 상세 문서화

### 🟡 중요 (Medium Priority)
4. **usage.md 생성**: 사용자 친화적 가이드
5. **CHANGELOG.md 생성**: 버전 변경 이력
6. **architecture.md 업데이트**: Code-First 아키텍처 반영

### 🟢 권장 (Low Priority)
7. **troubleshooting.md 생성**: 일반적인 문제 해결
8. **performance.md 업데이트**: 새로운 성능 지표

---

## 📊 예상 작업량 및 위험 분석

### 작업량 추정
```
🔴 긴급 작업:     3-4시간 (문서 3개, 28개 파일 버전 수정)
🟡 중요 작업:     2-3시간 (문서 3개 신규 생성)
🟢 권장 작업:     1-2시간 (문서 2개 신규 생성)

총 예상 시간:     6-9시간
```

### 🚨 위험 요소 식별

#### 높은 위험 (즉시 해결 필요)
1. **버전 불일치로 인한 사용자 혼란**
   - 영향: 신규 사용자 onboarding 실패
   - 해결: 모든 버전 표기를 v0.0.3으로 통일

2. **TAG 시스템 설명 불일치**
   - 영향: 개발자가 잘못된 TAG 형식 사용
   - 해결: Code-First 8-Core 시스템 정확히 반영

#### 중간 위험
3. **CLI 명령어 문서 부재**
   - 영향: 사용자가 고급 기능 활용 어려움
   - 해결: 체계적인 CLI 문서 생성

4. **성능 지표 과대 표기**
   - 영향: 실제와 다른 기대치 형성
   - 해결: 현실적인 지표로 수정

#### 낮은 위험
5. **아키텍처 문서 부재**
   - 영향: 기여자 온보딩 시간 증가
   - 해결: 개발자 친화적 아키텍처 문서 생성

---

## 🎯 권장 동기화 전략

### Phase 1: 긴급 수정 (즉시 실행)
```bash
1. 버전 통일 작업 (30분)
   - package.json 기준으로 모든 v0.0.1 → v0.0.3 교체
   - CLI 하드코딩된 버전 동적 로딩으로 변경

2. TAG 시스템 설명 수정 (1시간)
   - 16-Core → 8-Core Code-First 반영
   - 분산 저장 → 코드 파싱 방식 설명 수정

3. CLI_COMMANDS.md 생성 (2시간)
   - 7개 명령어 상세 문서화
   - 옵션, 예시, 출력 형식 포함
```

### Phase 2: 사용자 경험 개선 (1일 이내)
```bash
4. usage.md 생성 (1.5시간)
   - 빠른 시작 가이드
   - 일반적인 워크플로우
   - 단계별 튜토리얼

5. CHANGELOG.md 생성 (1시간)
   - v0.0.1 → v0.0.3 변경 이력
   - 미래 릴리스 템플릿
```

### Phase 3: 개발자 지원 (1주 이내)
```bash
6. architecture.md 생성 (1.5시간)
   - Code-First TAG 시스템 상세 설명
   - TypeScript 아키텍처 다이어그램
   - 확장성 고려사항

7. troubleshooting.md 생성 (1시간)
   - 일반적인 설치/실행 문제
   - 플랫폼별 주의사항
```

---

## 🔍 품질 보증 계획

### 동기화 후 검증 절차
1. **자동 검증**
   - 모든 버전 표기 일치성 확인
   - TAG 패턴 매칭 검증
   - 링크 유효성 검사

2. **수동 검증**
   - CLI 명령어 실제 테스트와 문서 비교
   - 사용자 시나리오 기반 문서 점검
   - 코드 예시 동작 확인

3. **품질 게이트**
   - README.md 일치성 100%
   - CLI 명령어 문서화 완료
   - 버전 정보 통일 완료

---

## 🎉 기대 효과

### 즉시 효과
- ✅ 사용자 혼란 해소 (버전 통일)
- ✅ 정확한 TAG 시스템 이해
- ✅ CLI 도구 활용도 향상

### 중장기 효과
- 📈 신규 사용자 온보딩 성공률 향상
- 🛠️ 개발자 기여도 증가
- 📚 체계적인 문서 생태계 구축

---

## 🙋‍♂️ 승인 요청

**doc-syncer 에이전트 권장사항**:
1. **Phase 1 즉시 실행 승인** (긴급 수정 3개 항목)
2. **Phase 2-3 단계적 실행 승인** (사용자/개발자 문서)
3. **git-manager 에이전트 협력** (실제 커밋 및 PR 관리)

**예상 완료 시점**: Phase 1 (당일), Phase 2 (1일), Phase 3 (1주)

**위험 완화**: 모든 변경사항은 기존 기능에 영향을 주지 않으며, 문서 개선만 진행

---

**사용자 승인을 기다리겠습니다. Phase 1부터 단계적으로 진행하시겠습니까?**